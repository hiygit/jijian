{"remainingRequest":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\thread-loader\\dist\\cjs.js!D:\\我的项目\\纪检项目\\byqc\\node_modules\\babel-loader\\lib\\index.js!D:\\我的项目\\纪检项目\\byqc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\我的项目\\纪检项目\\byqc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\我的项目\\纪检项目\\byqc\\src\\views\\StandBookEnter\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的项目\\纪检项目\\byqc\\src\\views\\StandBookEnter\\index.vue","mtime":1579067950522},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"D:\\\\\\u6211\\u7684\\u9879\\u76EE\\\\\\u7EAA\\u68C0\\u9879\\u76EE\\\\byqc\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nfunction f(arr, selectedKey) {\n  return arr.filter(function (item) {\n    return item.value !== selectedKey;\n  }).map(function (item) {\n    item = Object.assign({}, item);\n\n    if (item.children) {\n      item.children = f(item.children, selectedKey);\n    }\n\n    return item;\n  });\n}\n\nimport Breadcrumb from \"../../components/Breadcrumb\";\nimport qs from 'qs';\nexport default {\n  name: \"StandBookEnter\",\n  // props: {},\n  data: function data() {\n    return {\n      loading: true,\n      itemid: \"\",\n      step: 0,\n      //进度步骤\n      showinput: false,\n      //工作单位查看时显示\n      disabled: false,\n      idshow: false,\n      show: false,\n      //保存\n      updata: false,\n      //更新进度\n      nextsave: false,\n      //下一步弹窗里的保存\n      personnelpops: false,\n      //保存弹框显示切换\n      personnelpops1: false,\n      //查找弹框显示切换\n      disponsalWay: \"\",\n      //处置方式（为判断走到哪一步，不需要显示）\n      unitslist: [],\n      //级联选择\n      sourcelist: [],\n      //线索来源\n      proposedDispositionList: [],\n      //拟处置方式\n      violationOfPartyDisciplineList: [],\n      //党六大纪律\n      transferredResultList: [],\n      //办理结果\n      accountabilityMeansList: [],\n      //问责方式\n      sexlist: [],\n      //性别数组\n      educationBackgroundList: [],\n      //文化程度数组\n      politicallist: [],\n      //政治面貌数组\n      marriagelist: [],\n      //婚姻数组\n      dutyRankList: [],\n      //职务级别\n      workingStateList: [],\n      //在职情况\n      isnoList: [],\n      //是否\n      tableHeight: \"53vh\",\n      templateSelection: '',\n      tableData: [// {\n      // name:\"\",//姓名\n      // tableoffice:\"\",//单位\n      // tablepost:\"\",//岗位\n      {\n        'id': 1,\n        'title': '嘿嘿嘿',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 2,\n        'title': 'hengheng',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 3,\n        'title': '嘿嘿嘿',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 4,\n        'title': 'hengheng',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 5,\n        'title': '嘿嘿嘿',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 6,\n        'title': 'hengheng',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 7,\n        'title': '嘿嘿嘿',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }, {\n        'id': 8,\n        'title': 'hengheng',\n        'priority': '高',\n        'state': 1,\n        'dealingPeople': '小龙女'\n      }],\n      //备注\n      remarksform: {\n        remark1: \"\",\n        remark2: \"\"\n      },\n      //办理情况\n      Todealwithsituation: {\n        istransferred: \"\",\n        //是否办结\n        transferredResult: \"\",\n        //办理结果\n        transferredTime: \"\",\n        //办结时间\n        accountabilityMeans: \"\",\n        //问责方式\n        isHoldDemocraticMeetings: \"\",\n        //是否召开民主生活会\n        holdDemocraticMeetingsTime: \"\",\n        //召开民主生活会时间\n        execute: \"\",\n        //处分是否执行到位\n        isArchive: \"\",\n        //是否归档\n        isPunishmentExecution: \"\",\n        accountabilityFor: \"\" //问责事由\n\n      },\n      //违纪违法内容\n      dacform: {\n        violationOfPartyDiscipline: \"\",\n        //六大纪律\n        isDeregulation: \"\",\n        //八项规定\n        isFourWindsProblem: \"\",\n        //四风问题\n        corruption: \"\",\n        //腐败\n        isEighteenthAfter: \"\",\n        //十八大问题\n        isPovertyAlleviationProblem: \"\",\n        //扶贫\n        isAntitriadPutting: \"\",\n        //涉黑\n        isCorruptionLivelihoodSector: \"\" //是否民生领域腐败\n\n      },\n      // 线索信息表单\n      msgform: {\n        clueStoTheSource: \"\",\n        //线索来源\n        letterNumber: \"\",\n        //来件编号\n        groupNumber: \"\",\n        //组内线索编号\n        isDuplicateOrNot: \"\",\n        //是否重复件\n        clueNumber: \"\",\n        //线索件数\n        content: \"\" //反映的主要问题\n\n      },\n      //被反应人信息\n      byfind: {\n        personnelid: \"\",\n        //被反映人id\n        personnelName: \"\",\n        //姓名\n        idCard: \"\",\n        //身份证\n        sex: \"\",\n        //性别\n        birthday: \"\",\n        //出生年月\n        maritalStatus: \"\",\n        //婚姻状况\n        nativePlace: \"\",\n        //籍贯\n        educationBackground: \"\",\n        //文化程度\n        politicsStatus: \"\",\n        //政治面貌\n        officeName: \"\",\n        //工作单位\n        phone: \"\",\n        //联系方式\n        nation: \"\",\n        //民族\n        workingState: \"\",\n        //在职情况\n        presentOccupation: \"\",\n        //职务\n        jobLevel: \"\",\n        //职级\n        isCommunistPartyMember: \"\",\n        //市委\n        isCityCommissionPartyMembericipal: \"\",\n        //市纪委\n        isCPPCCMemberOrNot: \"\",\n        //是否政协委员\n        isNPCDEputiesOrNot: \"\",\n        //是否人大代表\n        isPartyRepresentativeOrNot: \"\",\n        //是否党代表\n        personalResume: \"\" //工作简历\n\n      },\n      //反应人信息\n      find: {\n        reflectName: \"\",\n        //姓名\n        reflectPhone: \"\",\n        //联系方式\n        reflectunitname: \"\",\n        //工作单位\n        reflectunitid: \"\",\n        reflectPresenToCcupation: \"\" //职务\n\n      },\n      // 处置\n      disposition: [],\n      //处置理由\n      form: {\n        disposalOfReason: \"\",\n        //处置理由\n        proposedDisposition: \"\",\n        //拟处置方式\n        thereWillBeTime: \"\",\n        //上会时间\n        savedispose: \"\" //保存时候传的处置方式\n\n      },\n      rules: {\n        clueStoTheSource: [{\n          required: true,\n          message: '请选择线索来源',\n          trigger: 'blur'\n        }],\n        groupNumber: [{\n          required: true,\n          message: '请填写组内线索编号',\n          trigger: 'blur'\n        }],\n        clueNumber: [{\n          required: true,\n          message: '请填写线索件数',\n          trigger: 'blur'\n        }],\n        isDuplicateOrNot: [{\n          required: true,\n          message: '请选择是否重复件',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  computed: {},\n  created: function created() {\n    var _this = this;\n\n    document.title = \"线索台账录入\";\n    var that = this; //线索来源\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"clue_sto_the_source\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.sourcelist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //处置方式\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"disponsal_way\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.proposedDispositionList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //党六大纪律\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"violation_of_party_discipline\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.violationOfPartyDisciplineList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //办理结果 \n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"transferred_result\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.transferredResultList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //问责方式\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"accountability_means\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.accountabilityMeansList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //性别\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'sex'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.sexlist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //文化程度\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'education_background'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.educationBackgroundList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //政治面貌\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'politics_status'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.politicallist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //婚姻\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'marital_status'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.marriagelist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //职务级别  title_jobs_level\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'job_level'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.dutyRankList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //在职情况\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'working_state'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.workingStateList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //是否\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"yes_no\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.isnoList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    });\n  },\n  mounted: function mounted() {\n    var id = this.$route.query.id;\n    console.log(this.$route.query.ifupdata);\n\n    if (id) {\n      this.showinput = true;\n      this.itemid = id;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n        id: id\n      };\n      this.show = this.$route.query.ifupdata == 0 ? true : false;\n      this.updata = this.$route.query.ifupdata ? true : false;\n      this.ifupdata = this.$route.query.ifupdata;\n      this.init(objs);\n    } else {\n      this.nextsave = true;\n    }\n\n    this.initunits();\n  },\n  methods: {\n    //下标处理\n    indexMethod: function indexMethod(index) {\n      return index + 1 > 9 ? index + 1 : '0' + (index + 1);\n    },\n    // 表格样式的处理\n    cellStyle: function cellStyle(_ref) {\n      var row = _ref.row,\n          column = _ref.column,\n          rowIndex = _ref.rowIndex,\n          columnIndex = _ref.columnIndex;\n\n      //基数偶数延时不同\n      if (rowIndex % 2 != 0) {\n        return {\n          \"background-color\": \"#2162A8\",\n          \"text-align\": \"center\",\n          color: \"#fff\",\n          \"font-weight\": \"normal\",\n          padding: \"5px 0\",\n          height: \"60px\"\n        };\n      } else {\n        return {\n          \"background-color\": \"#02468F\",\n          \"text-align\": \"center\",\n          color: \"#fff\",\n          \"font-weight\": \"normal\",\n          padding: \"5px 0\",\n          height: \"60px\"\n        };\n      }\n    },\n    headerCellStyle: function headerCellStyle(_ref2) {\n      var row = _ref2.row,\n          rowIndex = _ref2.rowIndex;\n      return {\n        \"background-color\": \"#027DBC\",\n        \"text-align\": \"center\",\n        color: \"#fff\",\n        \"font-weight\": \"normal\",\n        \"font-size\": \"16px\"\n      };\n    },\n    //初始化\n    init: function init(objs) {\n      var _this2 = this;\n\n      var that = this;\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/form',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          //处置方式判断\n          if (res.data.body.disponsalWay == 0) {\n            that.disponsalWay = 0;\n            that.isShow = false;\n            that.step = 0;\n          } else if (res.data.body.disponsalWay == 0) {\n            that.disponsalWay = 1;\n            that.step = 1; // that.isShow = false\n          } else if (res.data.body.disponsalWay == 2 || res.data.body.disponsalWay == 3 || res.data.body.disponsalWay == 4 || res.data.body.disponsalWay == 5 || res.data.body.disponsalWay == 6 || res.data.body.disponsalWay == 7 || res.data.body.disponsalWay == 8 || res.data.body.disponsalWay == 9) {\n            that.disponsalWay = 2;\n            that.step = 2;\n          } else if (res.data.body.disponsalWay == 10) {\n            that.disponsalWay = 3;\n            that.step = 3;\n          } else if (res.data.body.disponsalWay == 11) {\n            that.disponsalWay == 4;\n            that.step = 4;\n            that.isShow = false;\n          } // that.step = that.disponsalWay\n          // that.step = res.data.body.disponsalWay\n          // console.log(that.step)\n\n\n          console.log(that.find.reflectunitname); //页面渲染\n\n          that.form.savedispose = res.data.body.disponsalWay; //保存时候传的处置方式\n          // console.log(that.form.savedispose)\n\n          that.msgform.letterNumber = res.data.body.letterNumber;\n          that.msgform.groupNumber = res.data.body.groupNumber;\n          that.msgform.clueNumber = res.data.body.clueNumber;\n          that.msgform.content = res.data.body.content;\n          that.byfind.personnelid = res.data.body.personnel.id;\n          that.byfind.personnelName = res.data.body.personnel.name;\n          that.byfind.idCard = res.data.body.personnel.idCard;\n          that.byfind.sex = res.data.body.personnel.sex;\n          that.byfind.birthday = res.data.body.personnel.birthday; // that.byfind.maritalStatus = res.data.body.personnel.maritalStatus\n\n          that.byfind.nativePlace = res.data.body.personnel.nativePlace;\n          that.byfind.educationBackground = res.data.body.personnel.educationBackground;\n          that.byfind.politicsStatus = res.data.body.personnel ? res.data.body.personnel.politicsStatus : \"\";\n          that.byfind.officeName = res.data.body.personnel && res.data.body.personnel.office ? res.data.body.personnel.office.name : \"\";\n          that.byfind.phone = res.data.body.personnel.phone;\n          that.byfind.nation = res.data.body.personnel.nation;\n          that.byfind.presentOccupation = res.data.body.personnel.presentOccupation;\n          that.byfind.jobLevel = res.data.body.personnel.jobLevel;\n          that.byfind.personalResume = res.data.body.personnel.personalResume;\n          that.find.reflectPresenToCcupation = res.data.body.reflectPresenToCcupation;\n          that.find.reflectName = res.data.body.reflectName;\n          that.find.reflectPhone = res.data.body.reflectPhone;\n          that.find.reflectunitname = res.data.body.reflectunit.name; //反映人单位\n\n          that.find.reflectunitid = res.data.body.reflectunit.id; //反映人单位id\n\n          that.form.disposalOfReason = res.data.body.disposalOfReason;\n          that.form.thereWillBeTime = res.data.body.thereWillBeTime;\n          that.Todealwithsituation.transferredTime = res.data.body.transferredTime;\n          that.Todealwithsituation.holdDemocraticMeetingsTime = res.data.body.holdDemocraticMeetingsTime;\n          that.Todealwithsituation.accountabilityFor = res.data.body.accountabilityFor;\n          that.remarksform.remark1 = res.data.body.remark1;\n          that.remarksform.remark2 = res.data.body.remark2;\n          that.msgform.clueStoTheSource = res.data.body.clueStoTheSource;\n          that.form.proposedDisposition = res.data.body.proposedDisposition;\n          that.dacform.violationOfPartyDiscipline = res.data.body.violationOfPartyDiscipline != \"\" ? res.data.body.violationOfPartyDiscipline.split(\",\") : [];\n          that.Todealwithsituation.transferredResult = res.data.body.transferredResult;\n          that.Todealwithsituation.accountabilityMeans = res.data.body.accountabilityMeans;\n          that.byfind.maritalStatus = res.data.body.personnel.maritalStatus;\n          that.byfind.workingState = res.data.body.personnel.workingState;\n          that.msgform.isDuplicateOrNot = res.data.body.isDuplicateOrNot;\n          that.dacform.isDeregulation = res.data.body.isDeregulation;\n          that.dacform.isFourWindsProblem = res.data.body.isFourWindsProblem;\n          that.dacform.isEighteenthAfter = res.data.body.isEighteenthAfter;\n          that.dacform.isPovertyAlleviationProblem = res.data.body.isPovertyAlleviationProblem;\n          that.dacform.isAntitriadPutting = res.data.body.isAntitriadPutting;\n          that.dacform.isCorruptionLivelihoodSector = res.data.body.isCorruptionLivelihoodSector;\n          that.Todealwithsituation.istransferred = res.data.body.istransferred;\n          that.Todealwithsituation.isHoldDemocraticMeetings = res.data.body.isHoldDemocraticMeetings;\n          that.Todealwithsituation.isPunishmentExecution = res.data.body.isPunishmentExecution;\n          that.Todealwithsituation.isArchive = res.data.body.isArchive;\n          that.byfind.isCommunistPartyMember = res.data.body.personnel.isCommunistPartyMember;\n          that.byfind.isCityCommissionPartyMember = res.data.body.personnel.isCityCommissionPartyMember; // ====================== 新增三个是否 ==========================\n\n          that.byfind.isCPPCCMemberOrNot = res.data.body.personnel.isCPPCCMemberOrNot;\n          that.byfind.isNPCDEputiesOrNot = res.data.body.personnel.isNPCDEputiesOrNot;\n          that.byfind.isPartyRepresentativeOrNot = res.data.body.personnel.isPartyRepresentativeOrNot; // ==============================================================\n\n          res.data.body.recordList.map(function (list) {\n            that.disposition.push(list);\n          });\n        } else {\n          _this2.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 查询单位\n    initunits: function initunits() {\n      var _this3 = this;\n\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/office/list',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          var lists = [];\n          that.unitslist = res.data.body.officeList.map(function (list, index) {\n            return {\n              id: list.id,\n              name: list.name,\n              children: []\n            };\n          });\n        } else {\n          _this3.$message.error(res.data.msg);\n        }\n      });\n    },\n    //级联事件\n    unitChanges: function unitChanges(data) {\n      var _this4 = this;\n\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n        parentId: data[data.length - 1]\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/office/getChildren',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          if (data.length == 1) {\n            that.unitslist.map(function (list, index) {\n              if (list.id == data[0]) {\n                if (!list.children.length) {\n                  list.children = res.data.body.officeList.map(function (list, index) {\n                    return {\n                      id: list.id,\n                      name: list.name,\n                      children: list.hasChildren == false ? \"\" : []\n                    };\n                  });\n                }\n              }\n            });\n          } else if (data.length == 2) {\n            that.unitslist.map(function (list, index) {\n              if (list.id == data[0]) {\n                list.children.map(function (list, index) {\n                  if (list.id == data[1]) {\n                    if (!list.children.length) {\n                      list.children = res.data.body.officeList.map(function (list, index) {\n                        return {\n                          id: list.id,\n                          name: list.name,\n                          children: list.hasChildren == false ? \"\" : []\n                        };\n                      });\n                    }\n                  }\n                });\n              }\n            });\n          }\n        } else {\n          _this4.$message.error(res.data.msg);\n        }\n      });\n    },\n    //保存\n    savebtns: function savebtns() {\n      this.personnelpops = true;\n    },\n    //保存弹窗确定按钮\n    submitchangeunit: function submitchangeunit(formName) {\n      var _this5 = this;\n\n      var that = this;\n      this.personnelpops = false;\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var _forminfo;\n\n          var forminfo = (_forminfo = {\n            id: that.itemid,\n            reflectName: that.find.reflectName,\n            reflectPresenToCcupation: that.find.reflectPresenToCcupation,\n            reflectPhone: that.find.reflectPhone,\n            clueStoTheSource: that.msgform.clueStoTheSource,\n            letterNumber: that.msgform.letterNumber,\n            groupNumber: that.msgform.groupNumber,\n            clueNumber: that.msgform.clueNumber,\n            content: that.msgform.content,\n            proposedDisposition: that.form.proposedDisposition,\n            thereWillBeTime: that.form.thereWillBeTime,\n            disposalOfReason: that.form.disposalOfReason,\n            // disponsalWay: that.disponsalWay,//处置方式\n            disponsalWay: that.form.savedispose,\n            //处置方式\n            violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline.length > 0 ? that.dacform.violationOfPartyDiscipline.join(\",\") : \"\",\n            isDeregulation: that.dacform.isDeregulation,\n            isFourWindsProblem: that.dacform.isFourWindsProblem,\n            isDuplicateOrNot: that.msgform.isDuplicateOrNot,\n            isEighteenthAfter: that.dacform.isEighteenthAfter,\n            isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,\n            isAntitriadPutting: that.dacform.isAntitriadPutting,\n            istransferred: that.Todealwithsituation.istransferred,\n            transferredResult: that.Todealwithsituation.transferredResult,\n            accountabilityMeans: that.Todealwithsituation.accountabilityMeans,\n            isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings,\n            holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime,\n            //民主生活会召开时间\n            transferredTime: that.Todealwithsituation.transferredTime\n          }, _defineProperty(_forminfo, \"thereWillBeTime\", that.form.thereWillBeTime), _defineProperty(_forminfo, \"isPunishmentExecution\", that.Todealwithsituation.isPunishmentExecution), _defineProperty(_forminfo, \"isCommitteeMember\", that.byfind.isCommunistPartyMember), _defineProperty(_forminfo, \"remark1\", that.remarksform.remark1), _defineProperty(_forminfo, \"remark2\", that.remarksform.remark2), _defineProperty(_forminfo, \"isArchive\", that.Todealwithsituation.isArchive), _defineProperty(_forminfo, \"accountabilityFor\", that.Todealwithsituation.accountabilityFor), _defineProperty(_forminfo, \"isCorruptionLivelihoodSector\", that.dacform.isCorruptionLivelihoodSector), _defineProperty(_forminfo, \"reflectunit.id\", typeof that.find.reflectunitname == 'string' ? that.find.reflectunitid : that.find.reflectunitname[that.find.reflectunitname.length - 1]), _defineProperty(_forminfo, \"personnel.id\", that.byfind.personnelid), _defineProperty(_forminfo, \"userId\", JSON.parse(localStorage.getItem('userinfo')).isd), _defineProperty(_forminfo, \"problemClueDisposalRecords\", JSON.stringify(that.disposition)), _forminfo);\n\n          _this5.$ajax({\n            method: \"POST\",\n            url: that.globals.requesturl + 'web/cluesparameter/save',\n            data: forminfo,\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            transformRequest: [function (data) {\n              return qs.stringify(data);\n            }]\n          }).then(function (res) {\n            if (res.data.errorCode == \"-1\") {\n              _this5.$message.success(res.data.msg); // this.cluesParameter = res.data.body.id\n\n\n              _this5.$router.push({\n                path: '/updateprogress',\n                query: {\n                  id: res.data.body.id\n                }\n              });\n            } else {\n              _this5.$message.error(res.data.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    //查找\n    getPersonnel: function getPersonnel() {\n      var _this6 = this;\n\n      this.personnelpops1 = true;\n      var that = this;\n      var objs = {\n        name: that.byfind.personnelName,\n        idCard: that.byfind.idCard\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/getPersonnel',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          console.log(res.data);\n          that.byfind.personnelid = res.data.body.id;\n          that.byfind.personnelName = res.data.body.name;\n          that.byfind.idCard = res.data.body.idCard;\n          that.byfind.sex = res.data.body.sex;\n          that.byfind.birthday = res.data.body.birthday;\n          that.byfind.maritalStatus = res.data.body.maritalStatus;\n          that.byfind.nativePlace = res.data.body.nativePlace;\n          that.byfind.educationBackground = res.data.body.educationBackground;\n          that.byfind.politicsStatus = res.data.body.politicsStatus;\n          that.byfind.officeName = res.data.body.officeName;\n          that.byfind.phone = res.data.body.phone;\n          that.byfind.nation = res.data.body.nation;\n          that.byfind.workingState = res.data.body.workingState;\n          that.byfind.presentOccupation = res.data.body.presentOccupation;\n          that.byfind.jobLevel = res.data.body.jobLevel;\n          that.byfind.personalResume = res.data.body.personalResume;\n          that.byfind.isCityCommissionPartyMember = res.data.body.isCityCommissionPartyMember;\n          that.byfind.isCPPCCMemberOrNot = res.data.body.isCPPCCMemberOrNot;\n          that.byfind.isCommunistPartyMember = res.data.body.isCommunistPartyMember;\n          that.byfind.isNPCDEputiesOrNot = res.data.body.isNPCDEputiesOrNot;\n          that.byfind.isPartyRepresentativeOrNot = res.data.body.isPartyRepresentativeOrNot;\n          that.workingStateList.map(function (list) {\n            if (list.value == res.data.body.workingState) {\n              that.byfind.workingState = list.label;\n            }\n          });\n          that.isnoList.map(function (list) {// if(list.value == res.data.body.isCommunistPartyMember){\n            //   that.byfind.isCommunistPartyMember = list.label\n            // } \n            // if(list.value == res.data.body.isCityCommissionPartyMember){\n            //   that.byfind.isCityCommissionPartyMember = list.label\n            // }\n            // 新增三个是否\n            // if(list.value == res.data.body.isCPPCCMemberOrNot){\n            //   that.byfind.isCPPCCMemberOrNot = list.label\n            // }\n            // if(list.value == res.data.body.isNPCDEputiesOrNot){\n            //   that.Todealwithsituation.isNPCDEputiesOrNot = list.label\n            // }\n            // if(list.value == res.data.body.isPartyRepresentativeOrNot){\n            //   that.byfind.isPartyRepresentativeOrNot = list.label\n            // }\n          });\n        } else {\n          _this6.$message.error(res.data.msg);\n        }\n      });\n    },\n    singleElection: function singleElection(row) {\n      this.templateSelection = this.tableData.indexOf(row);\n      this.templateRadio = row.id;\n    },\n    //跳转更新进度页面\n    updateProgress: function updateProgress(formName) {\n      var _this7 = this;\n\n      if (!this.$route.query.ifupdata) {\n        var that = this;\n        this.personnelpops = false;\n        this.$refs[formName].validate(function (valid) {\n          if (valid) {\n            var _forminfo2;\n\n            var forminfo = (_forminfo2 = {\n              id: that.itemid,\n              reflectName: that.find.reflectName,\n              reflectPresenToCcupation: that.find.reflectPresenToCcupation,\n              reflectPhone: that.find.reflectPhone,\n              clueStoTheSource: that.msgform.clueStoTheSource,\n              letterNumber: that.msgform.letterNumber,\n              groupNumber: that.msgform.groupNumber,\n              clueNumber: that.msgform.clueNumber,\n              content: that.msgform.content,\n              proposedDisposition: that.form.proposedDisposition,\n              thereWillBeTime: that.form.thereWillBeTime,\n              //上会时间\n              holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime,\n              //民主生活会召开时间\n              transferredTime: that.Todealwithsituation.transferredTime,\n              //办结时间\n              disposalOfReason: that.form.disposalOfReason,\n              // disponsalWay: that.disponsalWay,//处置方式\n              disponsalWay: that.form.savedispose,\n              //处置方式\n              violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline.length > 0 ? that.dacform.violationOfPartyDiscipline.join(\",\") : \"\",\n              isDeregulation: that.dacform.isDeregulation,\n              isFourWindsProblem: that.dacform.isFourWindsProblem,\n              isDuplicateOrNot: that.msgform.isDuplicateOrNot,\n              isEighteenthAfter: that.dacform.isEighteenthAfter,\n              isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,\n              isAntitriadPutting: that.dacform.isAntitriadPutting,\n              istransferred: that.Todealwithsituation.istransferred,\n              transferredResult: that.Todealwithsituation.transferredResult,\n              accountabilityMeans: that.Todealwithsituation.accountabilityMeans,\n              isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings\n            }, _defineProperty(_forminfo2, \"holdDemocraticMeetingsTime\", that.Todealwithsituation.holdDemocraticMeetingsTime), _defineProperty(_forminfo2, \"isPunishmentExecution\", that.Todealwithsituation.isPunishmentExecution), _defineProperty(_forminfo2, \"isCommitteeMember\", that.byfind.isCommunistPartyMember), _defineProperty(_forminfo2, \"remark1\", that.remarksform.remark1), _defineProperty(_forminfo2, \"remark2\", that.remarksform.remark2), _defineProperty(_forminfo2, \"isArchive\", that.Todealwithsituation.isArchive), _defineProperty(_forminfo2, \"accountabilityFor\", that.Todealwithsituation.accountabilityFor), _defineProperty(_forminfo2, \"isCorruptionLivelihoodSector\", that.dacform.isCorruptionLivelihoodSector), _defineProperty(_forminfo2, \"reflectunit.id\", typeof that.find.reflectunitname == 'string' ? that.find.reflectunitid : that.find.reflectunitname[that.find.reflectunitname.length - 1]), _defineProperty(_forminfo2, \"personnel.id\", that.byfind.personnelid), _defineProperty(_forminfo2, \"userId\", JSON.parse(localStorage.getItem('userinfo')).isd), _defineProperty(_forminfo2, \"problemClueDisposalRecords\", JSON.stringify(that.disposition)), _forminfo2);\n\n            _this7.$ajax({\n              method: \"POST\",\n              url: that.globals.requesturl + 'web/cluesparameter/save',\n              data: forminfo,\n              headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n              },\n              transformRequest: [function (data) {\n                return qs.stringify(data);\n              }]\n            }).then(function (res) {\n              if (res.data.errorCode == \"-1\") {\n                _this7.$message.success(res.data.msg);\n\n                var ifupdata = _this7.$route.query.ifupdata;\n\n                _this7.$router.push({\n                  path: '/updateprogress',\n                  query: {\n                    id: _this7.itemid,\n                    ifupdata: ifupdata\n                  }\n                });\n              } else {\n                _this7.$message.error(res.data.msg);\n              }\n            });\n          } else {\n            return false;\n          }\n        });\n      } else {\n        var ifupdata = this.$route.query.ifupdata;\n        this.$router.push({\n          path: '/updateprogress',\n          query: {\n            id: this.itemid,\n            ifupdata: ifupdata\n          }\n        });\n      }\n    },\n    //返回上一页\n    goback: function goback() {\n      this.$router.go(-1);\n    }\n  },\n  watch: {}\n};",null]}