{"remainingRequest":"D:\\我的项目\\纪检委\\byqc\\node_modules\\babel-loader\\lib\\index.js!D:\\我的项目\\纪检委\\byqc\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\我的项目\\纪检委\\byqc\\src\\components\\Home\\Homenav\\script.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的项目\\纪检委\\byqc\\src\\components\\Home\\Homenav\\script.js","mtime":1576135938336},{"path":"D:\\我的项目\\纪检委\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检委\\byqc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检委\\byqc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import qs from 'qs';\nimport transfer from '@/components/Home/transfer.js';\nexport default {\n  data: function data() {\n    return {\n      commission: \"\",\n      //代办事项\n      // 单位参数\n      companydata: [],\n      // 标记是否全选\n      checkedall: true\n    };\n  },\n  mounted: function mounted() {\n    var objs = {\n      userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n      officeId: \"\"\n    };\n    this.init(objs);\n  },\n  methods: {\n    // 选择单位\n    selunit: function selunit(item) {\n      var idsarr = item.id;\n      this.companydata.map(function (list) {\n        list.checkedstate = false;\n      });\n      item.checkedstate = true;\n      transfer.$emit('unitids', idsarr);\n    },\n    // 全选单位\n    allcompanychecked: function allcompanychecked() {\n      if (this.checkedall) {\n        this.companydata.map(function (item) {\n          item.checkedstate = false;\n        });\n      } else {\n        this.companydata.map(function (item) {\n          item.checkedstate = true;\n        });\n      }\n\n      var idsarr = [];\n      this.companydata.map(function (list) {\n        if (list.checkedstate) {\n          idsarr.push(list.id);\n        }\n      });\n      transfer.$emit('allunitids', idsarr.join());\n    },\n    //首页跳转链接\n    handleGolink: function handleGolink(e) {\n      this.$router.push({\n        path: e\n      });\n    },\n    //页面初始化\n    init: function init(objs) {\n      var that = this;\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/index',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          var objlist = res.data.body;\n          that.commission = objlist.totalBacklog;\n          var officeList = objlist.officeList;\n          officeList.map(function (list) {\n            list.checkedstate = true;\n          });\n          that.companydata = officeList;\n        }\n      });\n    }\n  },\n  watch: {\n    companydata: {\n      handler: function handler(newVal, oldVal) {\n        var _this = this;\n\n        this.checkedall = true;\n        this.companydata.map(function (item) {\n          if (!item.checkedstate) {\n            _this.checkedall = false;\n          }\n        });\n      },\n      deep: true\n    }\n  }\n};",{"version":3,"sources":["D:/我的项目/纪检委/byqc/src/components/Home/Homenav/script.js"],"names":["qs","transfer","data","commission","companydata","checkedall","mounted","objs","userId","JSON","parse","localStorage","getItem","isd","officeId","init","methods","selunit","item","idsarr","id","map","list","checkedstate","$emit","allcompanychecked","push","join","handleGolink","e","$router","path","that","$ajax","method","url","globals","requesturl","headers","transformRequest","stringify","then","res","errorCode","objlist","body","totalBacklog","officeList","watch","handler","newVal","oldVal","deep"],"mappings":"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","sourcesContent":["import qs from 'qs'\r\nimport transfer from '@/components/Home/transfer.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      commission: \"\", //代办事项\r\n      // 单位参数\r\n      companydata: [],\r\n      // 标记是否全选\r\n      checkedall: true,\r\n    }\r\n  },\r\n  mounted() {\r\n    let objs = {\r\n      userId: JSON.parse(localStorage.getItem('userinfo')).isd,\r\n      officeId:\"\"\r\n    }\r\n    this.init(objs)\r\n  },\r\n  methods: {\r\n    // 选择单位\r\n    selunit(item){\r\n      let idsarr = item.id;\r\n      this.companydata.map(function(list){\r\n        list.checkedstate = false\r\n      })\r\n      item.checkedstate = true\r\n      transfer.$emit('unitids',idsarr)\r\n    },\r\n    // 全选单位\r\n    allcompanychecked() {\r\n      if (this.checkedall) {\r\n        this.companydata.map(item => {\r\n          item.checkedstate = false;\r\n        })\r\n      } else {\r\n        this.companydata.map(item => {\r\n          item.checkedstate = true;\r\n        })\r\n      }\r\n      let idsarr = [];\r\n      this.companydata.map(function(list){\r\n        if(list.checkedstate){\r\n          idsarr.push(list.id)\r\n        }\r\n      })\r\n      transfer.$emit('allunitids',idsarr.join())\r\n    },\r\n    //首页跳转链接\r\n    handleGolink(e) {\r\n      this.$router.push({\r\n        path: e\r\n      })\r\n    },\r\n    //页面初始化\r\n    init(objs) {\r\n      let that = this; \r\n      this.$ajax({\r\n          method: \"POST\",\r\n          url: that.globals.requesturl + 'web/index',\r\n          data: objs,\r\n          headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n          transformRequest: [function (data) { \r\n            return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n          if(res.data.errorCode == \"-1\"){\r\n            let objlist = res.data.body; \r\n            that.commission = objlist.totalBacklog\r\n            let officeList = objlist.officeList;\r\n            officeList.map(function(list){\r\n                list.checkedstate = true\r\n            })\r\n            that.companydata = officeList\r\n          }\r\n      })\r\n    },\r\n  },\r\n  watch: {\r\n    companydata: {\r\n      handler(newVal, oldVal) {\r\n        this.checkedall = true;\r\n        this.companydata.map(item => {\r\n          if (!item.checkedstate) {\r\n            this.checkedall = false;\r\n          }\r\n        })\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n"]}]}