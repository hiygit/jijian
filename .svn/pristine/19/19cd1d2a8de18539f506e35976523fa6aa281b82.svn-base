{"remainingRequest":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\thread-loader\\dist\\cjs.js!D:\\我的项目\\纪检项目\\byqc\\node_modules\\babel-loader\\lib\\index.js!D:\\我的项目\\纪检项目\\byqc\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\我的项目\\纪检项目\\byqc\\src\\views\\Login\\script.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的项目\\纪检项目\\byqc\\src\\views\\Login\\script.js","mtime":1575517365606},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检项目\\byqc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport qs from 'qs';\nexport default {\n  data: function data() {\n    return {\n      projectName: \"\",\n      loginform: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  created: function created() {\n    document.title = \"登录\";\n  },\n  mounted: function mounted() {\n    if (localStorage.getItem(\"projrecttitle\")) {\n      this.projectName = localStorage.getItem('projrecttitle');\n    } else {\n      this.init();\n    }\n  },\n  methods: {\n    // 去首页\n    tohome: function tohome() {\n      var _this = this;\n\n      if (this.loginform.username == \"\") {\n        this.$message.error(\"请填写登录账号\");\n      } else if (this.loginform.password == \"\") {\n        this.$message.error(\"请填写登录密码\");\n      } else {\n        var formdata = this.loginform;\n        this.$ajax({\n          method: \"post\",\n          url: this.globals.requesturl + 'web/login',\n          data: formdata,\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          transformRequest: [function (data) {\n            return qs.stringify(data);\n          }]\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.data.errorCode == \"-1\") {\n            var usermsg = {\n              names: res.data.body.name,\n              isd: res.data.body.userId\n            };\n            localStorage.setItem('userinfo', JSON.stringify(usermsg));\n\n            _this.$router.push('/home');\n          } else {\n            _this.$message.error(res.data.msg);\n          }\n        });\n      }\n    },\n    //获取项目名称\n    init: function init() {\n      var _this2 = this;\n\n      this.$ajax.post(this.globals.requesturl + 'web/loginBefore').then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          _this2.projectName = res.data.body.projectTitleSetting.title;\n          localStorage.setItem('projrecttitle', res.data.body.projectTitleSetting.title);\n        } else {\n          _this2.$message({\n            message: res.data.msg,\n            center: true\n          });\n        }\n      });\n    }\n  }\n};",null]}