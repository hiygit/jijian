{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\eslint-loader\\index.js??ref--13-0!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\src\\views\\Login\\script.js?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\src\\views\\Login\\script.js","mtime":1575517365606},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport qs from 'qs';\nexport default {\n  data: function data() {\n    return {\n      projectName: \"\",\n      loginform: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  created: function created() {\n    document.title = \"登录\";\n  },\n  mounted: function mounted() {\n    if (localStorage.getItem(\"projrecttitle\")) {\n      this.projectName = localStorage.getItem('projrecttitle');\n    } else {\n      this.init();\n    }\n  },\n  methods: {\n    // 去首页\n    tohome: function tohome() {\n      var _this = this;\n\n      if (this.loginform.username == \"\") {\n        this.$message.error(\"请填写登录账号\");\n      } else if (this.loginform.password == \"\") {\n        this.$message.error(\"请填写登录密码\");\n      } else {\n        var formdata = this.loginform;\n        this.$ajax({\n          method: \"post\",\n          url: this.globals.requesturl + 'web/login',\n          data: formdata,\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          transformRequest: [function (data) {\n            return qs.stringify(data);\n          }]\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.data.errorCode == \"-1\") {\n            var usermsg = {\n              names: res.data.body.name,\n              isd: res.data.body.userId\n            };\n            localStorage.setItem('userinfo', JSON.stringify(usermsg));\n\n            _this.$router.push('/home');\n          } else {\n            _this.$message.error(res.data.msg);\n          }\n        });\n      }\n    },\n    //获取项目名称\n    init: function init() {\n      var _this2 = this;\n\n      this.$ajax.post(this.globals.requesturl + 'web/loginBefore').then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          _this2.projectName = res.data.body.projectTitleSetting.title;\n          localStorage.setItem('projrecttitle', res.data.body.projectTitleSetting.title);\n        } else {\n          _this2.$message({\n            message: res.data.msg,\n            center: true\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["c:/Users/Administrator/Desktop/byqc/byqc1/src/views/Login/script.js"],"names":["qs","data","projectName","loginform","username","password","created","document","title","mounted","localStorage","getItem","init","methods","tohome","$message","error","formdata","$ajax","method","url","globals","requesturl","headers","transformRequest","stringify","then","res","console","log","errorCode","usermsg","names","body","name","isd","userId","setItem","JSON","$router","push","msg","post","projectTitleSetting","message","center"],"mappings":"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","sourcesContent":["import qs from 'qs'\r\nexport default {\r\n  data() {\r\n    return {\r\n        projectName:\"\",\r\n        loginform:{\r\n            username:\"\",\r\n            password:\"\"\r\n        }\r\n    }\r\n  },\r\n  created() {\r\n    document.title = \"登录\"\r\n  },\r\n  mounted(){\r\n      if(localStorage.getItem(\"projrecttitle\")){\r\n          this.projectName = localStorage.getItem('projrecttitle')\r\n      }else{\r\n        this.init();\r\n      }\r\n  },\r\n  methods: {\r\n    // 去首页\r\n    tohome() {\r\n        if(this.loginform.username == \"\"){\r\n            this.$message.error(\"请填写登录账号\");\r\n        }else if(this.loginform.password == \"\"){\r\n            this.$message.error(\"请填写登录密码\");\r\n        }else{\r\n            let formdata = this.loginform\r\n            this.$ajax({\r\n              method: \"post\",\r\n              url: this.globals.requesturl+'web/login',\r\n              data: formdata,\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n                transformRequest: [function (data) { \r\n                    return qs.stringify(data)\r\n                }]\r\n            }).then(res=>{\r\n                console.log(res)\r\n                if(res.data.errorCode == \"-1\"){\r\n                    let usermsg = {\r\n                        names:res.data.body.name,\r\n                        isd:res.data.body.userId\r\n                    }\r\n                    localStorage.setItem('userinfo',JSON.stringify(usermsg))\r\n                    this.$router.push('/home')\r\n                }else{\r\n                    this.$message.error(res.data.msg); \r\n                }\r\n            })\r\n        }\r\n    },\r\n    //获取项目名称\r\n    init() {\r\n        this.$ajax.post(this.globals.requesturl + 'web/loginBefore').then(res=>{\r\n            if(res.data.errorCode == \"-1\"){\r\n                this.projectName = res.data.body.projectTitleSetting.title\r\n                localStorage.setItem('projrecttitle',res.data.body.projectTitleSetting.title)\r\n            }else{\r\n                this.$message({\r\n                    message: res.data.msg,\r\n                    center: true\r\n                });\r\n            }\r\n        })\r\n    },\r\n  }\r\n}\r\n"]}]}