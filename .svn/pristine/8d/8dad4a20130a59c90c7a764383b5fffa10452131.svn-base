{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\thread-loader\\dist\\cjs.js!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\src\\views\\StandBookEnter\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\src\\views\\StandBookEnter\\index.vue","mtime":1582854157061},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\byqc\\byqc1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nfunction f(arr, selectedKey) {\n  return arr.filter(function (item) {\n    return item.value !== selectedKey;\n  }).map(function (item) {\n    item = Object.assign({}, item);\n\n    if (item.children) {\n      item.children = f(item.children, selectedKey);\n    }\n\n    return item;\n  });\n}\n\nimport Breadcrumb from \"../../components/Breadcrumb\";\nimport qs from 'qs';\nexport default {\n  name: \"StandBookEnter\",\n  // props: {},\n  data: function data() {\n    return {\n      getIndex: \"\",\n      arrs: [{\n        islength: 0,\n        ismore: true,\n        //展开-收起\n        radiobtn: false,\n        //姓名前面的单选按钮\n        id: \"\",\n        disponsalWay: \"\",\n        //处置方式（为判断走到哪一步，不需要显示）\n        //被反应人信息\n        personnelid: \"\",\n        //被反映人id\n        personnelName: \"\",\n        //姓名\n        idCard: \"\",\n        //身份证\n        sex: \"\",\n        //性别\n        birthday: \"\",\n        //出生年月\n        maritalStatus: \"\",\n        //婚姻状况\n        nativePlace: \"\",\n        //籍贯\n        educationBackground: \"\",\n        //文化程度\n        politicsStatus: \"\",\n        //政治面貌\n        officeName: \"\",\n        //工作单位\n        phone: \"\",\n        //联系方式\n        nation: \"\",\n        //民族\n        workingState: \"\",\n        //在职情况\n        presentOccupation: \"\",\n        //职务\n        jobLevel: \"\",\n        //职级\n        isCommitteeMember: \"\",\n        //市委\n        // isCommunistPartyMember:\"\",//市委\n        isCityCommissionPartyMembericipal: \"\",\n        //市纪委\n        isCPPCCMemberOrNot: \"\",\n        //是否政协委员\n        isNPCDEputiesOrNot: \"\",\n        //是否人大代表\n        isPartyRepresentativeOrNot: \"\",\n        //是否党代表\n        personalResume: \"\",\n        //工作简历\n        //处置理由\n        disposalOfReason: \"\",\n        //处置理由\n        proposedDisposition: \"\",\n        //拟处置方式\n        thereWillBeTime: \"\",\n        //上会时间\n        savedispose: \"\",\n        //保存时候传的处置方式\n        //违纪违法内容\n        violationOfPartyDiscipline: \"\",\n        //六大纪律\n        isDeregulation: \"\",\n        //八项规定\n        isFourWindsProblem: \"\",\n        //四风问题\n        // corruption:\"\",//腐败\n        isEighteenthAfter: \"\",\n        //十八大问题\n        isPovertyAlleviationProblem: \"\",\n        //扶贫\n        isAntitriadPutting: \"\",\n        //涉黑\n        isCorruptionLivelihoodSector: \"\",\n        //是否民生领域腐败\n        // 办理情况\n        istransferred: \"\",\n        //是否办结\n        // transferredResultname:\"\",//办理结果\n        // transferredResultid:\"\",//办理结果\n        transferredResult: \"\",\n        transferredResultName: \"\",\n        transferredTime: \"\",\n        //办结时间\n        accountabilityMeans: \"\",\n        //问责方式\n        isHoldDemocraticMeetings: \"\",\n        //是否召开民主生活会\n        holdDemocraticMeetingsTime: \"\",\n        //召开民主生活会时间\n        // execute:\"\",//处分是否执行到位\n        isArchive: \"\",\n        //是否归档\n        isPunishmentExecution: \"\",\n        accountabilityFor: \"\",\n        //问责事由\n        //备注\n        // remark1:\"\",\n        // remark2:\"\",\n        // 处置\n        disposition: []\n      }],\n      ele: 0,\n      showRadio: true,\n      //姓名-单选按钮 根据内部人员、单位和外部人员、单位 判断 显示隐藏\n      isPack: false,\n      delId: \"\",\n      id: \"\",\n      // personnelOfficeName: \"\",\n      personnelOfficeId: \"\",\n      //被反应人单位\n      personnelOfficeName: \"\",\n      loading: true,\n      // itemid: \"\",\n      step: 0,\n      //进度步骤\n      showinput: false,\n      //工作单位查看时显示\n      disabled: false,\n      idshow: false,\n      show: false,\n      //保存\n      updata: false,\n      //更新进度\n      nextsave: false,\n      //下一步弹窗里的保存\n      personnelpops: false,\n      //保存弹框显示切换\n      personnelpops1: false,\n      //查找弹框显示切换\n      outOffice: false,\n      //外部单位\n      insideOffice: false,\n      //内部单位\n      systemtype: \"\",\n      //保存传的类型 内部：1-人员 2-单位  外部：3-人员 4-单位\n      system: {\n        systemoffice: \"\",\n        //系统内部单位\n        outOfficeName: \"\" //系统外部单位\n\n      },\n      transactionlist: [],\n      //办理结果 级联选择\n      // disponsalWay: \"\",//处置方式（为判断走到哪一步，不需要显示）\n      unitslist: [],\n      //级联选择\n      sourcelist: [],\n      //线索来源\n      proposedDispositionList: [],\n      //拟处置方式\n      violationOfPartyDisciplineList: [],\n      //党六大纪律\n      transferredResultList: [],\n      //办理结果\n      accountabilityMeansList: [],\n      //问责方式\n      sexlist: [],\n      //性别数组\n      educationBackgroundList: [],\n      //文化程度数组\n      politicallist: [],\n      //政治面貌数组\n      marriagelist: [],\n      //婚姻数组\n      dutyRankList: [],\n      //职务级别\n      workingStateList: [],\n      //在职情况\n      isnoList: [],\n      //是否\n      tableHeight: \"40vh\",\n      templateSelection: '',\n      tableData: [// {\n        // name:\"\",//姓名\n        // tableoffice:\"\",//单位\n        // tablepost:\"\",//岗位}\n        // {\n        //   'id': 1,\n        //   'title': '嘿嘿嘿',\n        //   'priority': '高',\n        //   'state': 1,\n        //   'dealingPeople': '小龙女'\n        // },\n        // {\n        //   'id': 2,\n        //   'title': 'hengheng',\n        //   'priority': '高',\n        //   'state': 1,\n        //   'dealingPeople': '小龙女'\n        // },\n        // {\n        //     'id': 3,\n        //     'title': '嘿嘿嘿',\n        //     'priority': '高',\n        //     'state': 1,\n        //     'dealingPeople': '小龙女'\n        // },\n        // {\n        //   'id': 4,\n        //   'title': 'hengheng',\n        //   'priority': '高',\n        //   'state': 1,\n        //   'dealingPeople': '小龙女'\n        // },\n      ],\n      // // 处置\n      disposition: [],\n      //备注\n      remarksform: {\n        remark1: \"\",\n        remark2: \"\"\n      },\n      //办理情况\n      // Todealwithsituation:{\n      //   istransferred:\"\",//是否办结\n      //   transferredResultname:\"\",//办理结果\n      //   transferredResultid:\"\",//办理结果\n      //   transferredTime:\"\",//办结时间\n      //   accountabilityMeans:\"\",//问责方式\n      //   isHoldDemocraticMeetings:\"\",//是否召开民主生活会\n      //   holdDemocraticMeetingsTime:\"\",//召开民主生活会时间\n      //   execute:\"\",//处分是否执行到位\n      //   isArchive:\"\",//是否归档\n      //   isPunishmentExecution:\"\",\n      //   accountabilityFor: \"\",//问责事由\n      // },\n      //违纪违法内容\n      // dacform:{\n      //   violationOfPartyDiscipline:\"\",//六大纪律\n      //   isDeregulation:\"\",//八项规定\n      //   isFourWindsProblem:\"\",//四风问题\n      //   corruption:\"\",//腐败\n      //   isEighteenthAfter:\"\",//十八大问题\n      //   isPovertyAlleviationProblem:\"\",//扶贫\n      //   isAntitriadPutting:\"\",//涉黑\n      //   isCorruptionLivelihoodSector: \"\",//是否民生领域腐败\n      // },\n      // 线索信息表单\n      msgform: {\n        clueStoTheSource: \"\",\n        //线索来源\n        letterNumber: \"\",\n        //来件编号\n        groupNumber: \"\",\n        //组内线索编号\n        isDuplicateOrNot: \"\",\n        //是否重复件\n        clueNumber: \"\",\n        //线索件数\n        content: \"\" //反映的主要问题\n\n      },\n      // //被反应人信息\n      // byfind:{\n      //   personnelid:\"\",//被反映人id\n      //   personnelName:\"\",//姓名\n      //   idCard:\"\",//身份证\n      //   sex: \"\",//性别\n      //   birthday:\"\",//出生年月\n      //   maritalStatus:\"\",//婚姻状况\n      //   nativePlace:\"\",//籍贯\n      //   educationBackground:\"\",//文化程度\n      //   politicsStatus:\"\",//政治面貌\n      //   officeName:\"\",//工作单位\n      //   phone:\"\",//联系方式\n      //   nation:\"\",//民族\n      //   workingState:\"\",//在职情况\n      //   presentOccupation:\"\",//职务\n      //   jobLevel:\"\",//职级\n      //   isCommunistPartyMember:\"\",//市委\n      //   isCityCommissionPartyMembericipal:\"\",//市纪委\n      //   isCPPCCMemberOrNot:\"\",//是否政协委员\n      //   isNPCDEputiesOrNot:\"\",//是否人大代表\n      //   isPartyRepresentativeOrNot:\"\",//是否党代表\n      //   personalResume:\"\",//工作简历\n      // },\n      //反应人信息\n      find: {\n        reflectName: \"\",\n        //姓名\n        reflectPhone: \"\",\n        //联系方式\n        reflectunitname: \"\",\n        //工作单位\n        reflectunitid: \"\",\n        reflectPresenToCcupation: \"\" //职务\n\n      },\n      //处置理由\n      // form: {\n      //   disposalOfReason: \"\",//处置理由\n      //   proposedDisposition: \"\",//拟处置方式\n      //   thereWillBeTime: \"\",//上会时间\n      //   savedispose:\"\", //保存时候传的处置方式\n      // },\n      rules: {\n        clueStoTheSource: [{\n          required: true,\n          message: '请选择线索来源',\n          trigger: 'blur'\n        }],\n        groupNumber: [{\n          required: true,\n          message: '请填写组内线索编号',\n          trigger: 'blur'\n        }],\n        clueNumber: [{\n          required: true,\n          message: '请填写线索件数',\n          trigger: 'blur'\n        }],\n        isDuplicateOrNot: [{\n          required: true,\n          message: '请选择是否重复件',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  computed: {},\n  created: function created() {\n    var _this = this;\n\n    document.title = \"线索台账录入\";\n    var that = this; //线索来源\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"clue_sto_the_source\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.sourcelist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //处置方式\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"disponsal_way\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.proposedDispositionList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //党六大纪律\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"violation_of_party_discipline\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.violationOfPartyDisciplineList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //办理结果 \n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"transferred_result\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.transferredResultList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //问责方式\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"accountability_means\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.accountabilityMeansList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //性别\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'sex'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.sexlist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //文化程度\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'education_background'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.educationBackgroundList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //政治面貌\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'politics_status'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.politicallist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //婚姻\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'marital_status'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.marriagelist = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //职务级别  title_jobs_level\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'job_level'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.dutyRankList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //在职情况\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + 'web/dict',\n      data: {\n        type: 'working_state'\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == '-1') {\n        that.workingStateList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    }); //是否\n\n    this.$ajax({\n      method: \"POST\",\n      url: this.globals.requesturl + \"web/dict\",\n      data: {\n        type: \"yes_no\"\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      transformRequest: [function (data) {\n        return qs.stringify(data);\n      }]\n    }).then(function (res) {\n      if (res.data.success && res.data.errorCode == \"-1\") {\n        that.isnoList = res.data.body.dictValueList;\n      } else {\n        _this.$message.error(res.data.msg);\n      }\n    });\n  },\n  mounted: function mounted() {\n    if (this.$route.query.isactive == 0 && this.$route.query.radio == 1) {\n      //内部人员\n      this.systemtype = 1;\n      this.insideOffice = false;\n      this.isPack = false;\n      this.showRadio = false;\n    } else if (this.$route.query.isactive == 1 && this.$route.query.radio == 1) {\n      //内部单位\n      this.systemtype = 2;\n      this.insideOffice = true;\n      this.outOffice = false;\n    } else if (this.$route.query.isactive == 0 && this.$route.query.radio == 2) {\n      //外部人员\n      this.systemtype = 3;\n      this.isPack = false;\n    } else if (this.$route.query.isactive == 1 && this.$route.query.radio == 2) {\n      //外部单位\n      this.systemtype = 4;\n      this.outOffice = true;\n      this.isPack = false;\n    }\n\n    var id = this.$route.query.id; // console.log(this.$route.query.ifupdata)\n\n    if (id) {\n      this.showinput = true;\n      this.itemid = id;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n        id: id\n      };\n      this.show = this.$route.query.ifupdata == 0 ? true : false;\n      this.updata = this.$route.query.ifupdata ? true : false;\n      this.ifupdata = this.$route.query.ifupdata;\n      this.init(objs);\n    } else {\n      this.nextsave = true;\n    }\n\n    this.initunits();\n    this.transactionresultList();\n  },\n  methods: {\n    //下标处理\n    indexMethod: function indexMethod(index) {\n      return index + 1 > 9 ? index + 1 : '0' + (index + 1);\n    },\n    // 表格样式的处理\n    cellStyle: function cellStyle(_ref) {\n      var row = _ref.row,\n          column = _ref.column,\n          rowIndex = _ref.rowIndex,\n          columnIndex = _ref.columnIndex;\n\n      //基数偶数延时不同\n      if (rowIndex % 2 != 0) {\n        return {\n          \"background-color\": \"#2162A8\",\n          \"text-align\": \"center\",\n          color: \"#fff\",\n          \"font-weight\": \"normal\",\n          padding: \"5px 0\",\n          height: \"60px\"\n        };\n      } else {\n        return {\n          \"background-color\": \"#02468F\",\n          \"text-align\": \"center\",\n          color: \"#fff\",\n          \"font-weight\": \"normal\",\n          padding: \"5px 0\",\n          height: \"60px\"\n        };\n      }\n    },\n    headerCellStyle: function headerCellStyle(_ref2) {\n      var row = _ref2.row,\n          rowIndex = _ref2.rowIndex;\n      return {\n        \"background-color\": \"#027DBC\",\n        \"text-align\": \"center\",\n        color: \"#fff\",\n        \"font-weight\": \"normal\",\n        \"font-size\": \"16px\"\n      };\n    },\n    //初始化\n    init: function init(objs) {\n      var _this2 = this;\n\n      var that = this;\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/form',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          // console.log(res.data.body.type)\n          // console.log(this.arrs)\n          //处置方式判断\n          if (res.data.body.disponsalWay == 0) {\n            that.disponsalWay = 0;\n            that.isShow = false;\n            that.step = 0;\n          } else if (res.data.body.disponsalWay == 0) {\n            that.disponsalWay = 1;\n            that.step = 1; // that.isShow = false\n          } else if (res.data.body.disponsalWay == 2 || res.data.body.disponsalWay == 3 || res.data.body.disponsalWay == 4 || res.data.body.disponsalWay == 5 || res.data.body.disponsalWay == 6 || res.data.body.disponsalWay == 7 || res.data.body.disponsalWay == 8 || res.data.body.disponsalWay == 9) {\n            that.disponsalWay = 2;\n            that.step = 2;\n          } else if (res.data.body.disponsalWay == 10) {\n            that.disponsalWay = 3;\n            that.step = 3;\n          } else if (res.data.body.disponsalWay == 11) {\n            that.disponsalWay == 4;\n            that.step = 4;\n            that.isShow = false;\n          } // that.step = that.disponsalWay\n          // that.step = res.data.body.disponsalWay\n          // console.log(that.step)\n          //根据type判断显示的内部人员、单位 或 外部人员、单位\n\n\n          if (res.data.body.type == 1) {\n            //内部人员\n            _this2.isPack = false;\n          } else if (res.data.body.type == 2) {\n            //内部单位\n            _this2.insideOffice = true;\n          } else if (res.data.body.type == 3) {\n            //外部人员\n            _this2.isPack = false;\n          } else if (res.data.body.type == 4) {\n            //外部单位\n            _this2.outOffice = true;\n            _this2.isPack = false;\n          } // type如果是1 3 4返回的是对象 如果是2返回的数组\n\n\n          if (res.data.body.type == 1 || res.data.body.type == 3 || res.data.body.type == 4) {\n            _this2.arrs = [];\n            var obj = {\n              islength: 0,\n              ismore: true,\n              //展开-收起\n              radiobtn: false,\n              //姓名前面的单选按钮\n              id: res.data.body.id,\n              disponsalWay: \"\",\n              //处置方式（为判断走到哪一步，不需要显示）\n              //被反应人信息\n              personnelid: res.data.body.personnel.id,\n              //被反映人id\n              personnelName: res.data.body.personnel.name,\n              //姓名\n              // idCard:\"\",//身份证\n              sex: res.data.body.personnel.sex,\n              //性别\n              birthday: res.data.body.personnel.birthday,\n              //出生年月\n              maritalStatus: res.data.body.personnel.maritalStatus,\n              //婚姻状况\n              nativePlace: res.data.body.personnel.nativePlace,\n              //籍贯\n              educationBackground: res.data.body.personnel.educationBackground,\n              //文化程度\n              politicsStatus: res.data.body.personnel.politicsStatus,\n              //政治面貌\n              officeName: res.data.body.personnel.office.name,\n              //工作单位\n              phone: res.data.body.personnel.phone,\n              //联系方式\n              nation: res.data.body.personnel.nation,\n              //民族\n              workingState: res.data.body.personnel.workingState,\n              //在职情况\n              presentOccupation: res.data.body.personnel.presentOccupation,\n              //职务\n              jobLevel: res.data.body.personnel.jobLevel,\n              //职级\n              isCommitteeMember: res.data.body.personnel.isCommitteeMember,\n              //市委\n              // isCommunistPartyMember:\"\",//市委\n              isCityCommissionPartyMembericipal: res.data.body.personnel.isCityCommissionPartyMembericipal,\n              //市纪委\n              isCPPCCMemberOrNot: res.data.body.personnel.isCPPCCMemberOrNot,\n              //是否政协委员\n              isNPCDEputiesOrNot: res.data.body.personnel.isNPCDEputiesOrNot,\n              //是否人大代表\n              isPartyRepresentativeOrNot: res.data.body.personnel.isPartyRepresentativeOrNot,\n              //是否党代表\n              personalResume: res.data.body.personnel.personalResume,\n              //工作简历\n              //处置理由\n              disposalOfReason: res.data.body.disposalOfReason,\n              //处置理由\n              proposedDisposition: res.data.body.proposedDisposition,\n              //拟处置方式\n              thereWillBeTime: res.data.body.thereWillBeTime,\n              //上会时间\n              savedispose: res.data.body.disponsalWay,\n              //保存时候传的处置方式\n              //违纪违法内容\n              violationOfPartyDiscipline: res.data.body.violationOfPartyDiscipline != \"\" ? res.data.body.violationOfPartyDiscipline.split(\",\") : [],\n              //六大纪律\n              isDeregulation: res.data.body.isDeregulation,\n              //八项规定\n              isFourWindsProblem: res.data.body.isFourWindsProblem,\n              //四风问题\n              isEighteenthAfter: res.data.body.isEighteenthAfter,\n              //十八大问题\n              isPovertyAlleviationProblem: res.data.body.isPovertyAlleviationProblem,\n              //扶贫\n              isAntitriadPutting: res.data.body.isAntitriadPutting,\n              //涉黑\n              isCorruptionLivelihoodSector: res.data.body.isCorruptionLivelihoodSector,\n              //是否民生领域腐败\n              // 办理情况\n              istransferred: res.data.body.istransferred,\n              //是否办结\n              // transferredResultname:\"\",//办理结果\n              // transferredResultid:\"\",//办理结果\n              transferredResult: \"\",\n              transferredTime: res.data.body.transferredTime,\n              //办结时间\n              accountabilityMeans: res.data.body.accountabilityMeans,\n              //问责方式\n              isHoldDemocraticMeetings: res.data.body.isHoldDemocraticMeetings,\n              //是否召开民主生活会\n              holdDemocraticMeetingsTime: res.data.body.isHoldDemocraticMeetings,\n              //召开民主生活会时间\n              // execute: \"\",//处分是否执行到位\n              isArchive: res.data.body.isArchive,\n              //是否归档\n              isPunishmentExecution: res.data.body.isPunishmentExecution,\n              accountabilityFor: res.data.body.accountabilityFor,\n              //问责事由\n              //备注\n              // remark1:\"\",\n              // remark2:\"\",\n              // 处置\n              disposition: res.data.body.recordList\n            };\n            that.arrs.push(obj);\n          } else if (res.data.body.type == 2) {\n            // type如果是1 3 4返回的是对象 如果是2返回的是数组\n            var cluesParameterChildrenList = res.data.body.cluesParameterChildrenList;\n            var addPersonnelArr = [],\n                typeOtherArr = [];\n\n            if (cluesParameterChildrenList.length > 0) {\n              for (var i = 0; i < cluesParameterChildrenList.length; i++) {\n                var list = cluesParameterChildrenList[i];\n                var _obj = {\n                  islength: 0,\n                  ismore: true,\n                  //展开-收起\n                  radiobtn: false,\n                  //姓名前面的单选按钮\n                  id: list.id,\n                  disponsalWay: \"\",\n                  //处置方式（为判断走到哪一步，不需要显示）\n                  //被反应人信息\n                  personnelid: list.personnel.id,\n                  //被反映人id\n                  personnelName: list.personnel.name,\n                  //姓名\n                  // idCard:\"\",//身份证\n                  sex: list.personnel.sex,\n                  //性别\n                  birthday: list.personnel.birthday,\n                  //出生年月\n                  maritalStatus: list.personnel.maritalStatus,\n                  //婚姻状况\n                  nativePlace: list.personnel.nativePlace,\n                  //籍贯\n                  educationBackground: list.personnel.educationBackground,\n                  //文化程度\n                  politicsStatus: list.personnel.politicsStatus,\n                  //政治面貌\n                  officeName: list.personnel.office.name,\n                  //工作单位\n                  phone: list.personnel.phone,\n                  //联系方式\n                  nation: list.personnel.nation,\n                  //民族\n                  workingState: list.personnel.workingState,\n                  //在职情况\n                  presentOccupation: list.personnel.presentOccupation,\n                  //职务\n                  jobLevel: list.personnel.jobLevel,\n                  //职级\n                  isCommitteeMember: list.personnel.isCommitteeMember,\n                  //市委\n                  // isCommunistPartyMember:\"\",//市委\n                  isCityCommissionPartyMembericipal: list.personnel.isCityCommissionPartyMembericipal,\n                  //市纪委\n                  isCPPCCMemberOrNot: list.personnel.isCPPCCMemberOrNot,\n                  //是否政协委员\n                  isNPCDEputiesOrNot: list.personnel.isNPCDEputiesOrNot,\n                  //是否人大代表\n                  isPartyRepresentativeOrNot: list.personnel.isPartyRepresentativeOrNot,\n                  //是否党代表\n                  personalResume: list.personnel.personalResume,\n                  //工作简历\n                  //处置理由\n                  disposalOfReason: list.disposalOfReason,\n                  //处置理由\n                  proposedDisposition: list.proposedDisposition,\n                  //拟处置方式\n                  thereWillBeTime: list.thereWillBeTime,\n                  //上会时间\n                  // savedispose:\"\", //保存时候传的处置方式\n                  //违纪违法内容\n                  // violationOfPartyDiscipline: list.violationOfPartyDiscipline != \"\" ? list.violationOfPartyDiscipline.split(\",\"):[],//六大纪律\n                  isDeregulation: list.isDeregulation,\n                  //八项规定\n                  isFourWindsProblem: list.isFourWindsProblem,\n                  //四风问题\n                  isEighteenthAfter: list.isEighteenthAfter,\n                  //十八大问题\n                  isPovertyAlleviationProblem: list.isPovertyAlleviationProblem,\n                  //扶贫\n                  isAntitriadPutting: list.isAntitriadPutting,\n                  //涉黑\n                  isCorruptionLivelihoodSector: list.isCorruptionLivelihoodSector,\n                  //是否民生领域腐败\n                  // 办理情况\n                  istransferred: list.istransferred,\n                  //是否办结\n                  // transferredResultname:\"\",//办理结果\n                  // transferredResultid:\"\",//办理结果\n                  transferredResult: \"\",\n                  transferredTime: list.transferredTime,\n                  //办结时间\n                  accountabilityMeans: list.accountabilityMeans,\n                  //问责方式\n                  isHoldDemocraticMeetings: list.isHoldDemocraticMeetings,\n                  //是否召开民主生活会\n                  holdDemocraticMeetingsTime: list.isHoldDemocraticMeetings,\n                  //召开民主生活会时间\n                  // execute: \"\",//处分是否执行到位\n                  isArchive: list.isArchive,\n                  //是否归档\n                  isPunishmentExecution: list.isPunishmentExecution,\n                  accountabilityFor: list.accountabilityFor,\n                  //问责事由\n                  //备注\n                  // remark1:\"\",\n                  // remark2:\"\",\n                  // 处置\n                  disposition: []\n                };\n                var rescordList = [];\n\n                for (var j = 0; j < cluesParameterChildrenList[i].recordList.length; j++) {\n                  var listRecordList = cluesParameterChildrenList[i].recordList[j];\n                  rescordList.push(listRecordList);\n                }\n\n                _obj.disposition = rescordList;\n                addPersonnelArr.push(_obj);\n              }\n\n              that.arrs = addPersonnelArr;\n            }\n          } //页面渲染\n\n\n          that.system.outOfficeName = res.data.body.outOfficeName, // that.form.savedispose = res.data.body.disponsalWay //保存时候传的处置方式\n          // console.log(that.form.savedispose)\n          that.msgform.letterNumber = res.data.body.letterNumber;\n          that.msgform.groupNumber = res.data.body.groupNumber;\n          that.msgform.clueNumber = res.data.body.clueNumber;\n          that.msgform.content = res.data.body.content;\n          that.msgform.clueStoTheSource = res.data.body.clueStoTheSource;\n          that.msgform.isDuplicateOrNot = res.data.body.isDuplicateOrNot;\n          that.find.reflectPresenToCcupation = res.data.body.reflectPresenToCcupation;\n          that.find.reflectName = res.data.body.reflectName;\n          that.find.reflectPhone = res.data.body.reflectPhone;\n          that.find.reflectunitname = res.data.body.reflectunit.name; //反映人单位\n\n          that.find.reflectunitid = res.data.body.reflectunit.id; //反映人单位id\n\n          that.remarksform.remark1 = res.data.body.remark1;\n          that.remarksform.remark2 = res.data.body.remark2;\n          that.personnelOfficeName = res.data.body.cluesParameterChildrenList[0].personnel.office.name;\n          that.personnelOfficeId = res.data.body.cluesParameterChildrenList[0].personnel.office.id; //反映人单位id\n          // that.byfind.personnelid = res.data.body.personnel.id\n          // that.byfind.personnelName = res.data.body.personnel.name\n          // that.byfind.idCard = res.data.body.personnel.idCard\n          // that.byfind.sex = res.data.body.personnel.sex\n          // that.byfind.birthday = res.data.body.personnel.birthday\n          // that.byfind.maritalStatus = res.data.body.personnel.maritalStatus\n          // that.byfind.nativePlace = res.data.body.personnel.nativePlace\n          // that.byfind.educationBackground = res.data.body.personnel.educationBackground\n          // that.byfind.politicsStatus = res.data.body.personnel?res.data.body.personnel.politicsStatus:\"\"\n          // that.byfind.officeName = res.data.body.personnel&&res.data.body.personnel.office?res.data.body.personnel.office.name:\"\"\n          // that.byfind.phone = res.data.body.personnel.phone\n          // that.byfind.nation = res.data.body.personnel.nation\n          // that.byfind.presentOccupation = res.data.body.personnel.presentOccupation\n          // that.byfind.jobLevel = res.data.body.personnel.jobLevel\n          // that.byfind.personalResume = res.data.body.personnel.personalResume\n          // that.form.disposalOfReason = res.data.body.disposalOfReason\n          // that.form.thereWillBeTime = res.data.body.thereWillBeTime\n          // that.Todealwithsituation.transferredTime = res.data.body.transferredTime\n          // that.Todealwithsituation.holdDemocraticMeetingsTime = res.data.body.holdDemocraticMeetingsTime \n          // that.Todealwithsituation.accountabilityFor = res.data.body.accountabilityFor\n          // that.form.proposedDisposition = res.data.body.proposedDisposition\n          // that.dacform.violationOfPartyDiscipline = res.data.body.violationOfPartyDiscipline != \"\" ? res.data.body.violationOfPartyDiscipline.split(\",\"):[]\n          // // that.Todealwithsituation.transferredResultname = res.data.body.transferredResult.name//办理结果\n          // // that.Todealwithsituation.transferredResultid = res.data.body.transferredResult.id//办理结果id\n          // that.Todealwithsituation.transferredResult = res.data.body.transferredResult//办理结果id\n          // that.Todealwithsituation.accountabilityMeans = res.data.body.accountabilityMeans\n          // that.byfind.maritalStatus = res.data.body.personnel.maritalStatus\n          // that.byfind.workingState = res.data.body.personnel.workingState\n          // that.msgform.isDuplicateOrNot = res.data.body.isDuplicateOrNot\n          // that.dacform.isDeregulation = res.data.body.isDeregulation\n          // that.dacform.isFourWindsProblem = res.data.body.isFourWindsProblem\n          // that.dacform.isEighteenthAfter = res.data.body.isEighteenthAfter\n          // that.dacform.isPovertyAlleviationProblem = res.data.body.isPovertyAlleviationProblem\n          // that.dacform.isAntitriadPutting = res.data.body.isAntitriadPutting\n          // that.dacform.isCorruptionLivelihoodSector = res.data.body.isCorruptionLivelihoodSector\n          // that.Todealwithsituation.istransferred = res.data.body.istransferred\n          // that.Todealwithsituation.isHoldDemocraticMeetings = res.data.body.isHoldDemocraticMeetings\n          // that.Todealwithsituation.isPunishmentExecution = res.data.body.isPunishmentExecution\n          // that.Todealwithsituation.isArchive = res.data.body.isArchive\n          // that.byfind.isCommunistPartyMember = res.data.body.personnel.isCommunistPartyMember\n          // that.byfind.isCityCommissionPartyMember = res.data.body.personnel.isCityCommissionPartyMember\n          // // ====================== 新增三个是否 ==========================\n          // that.byfind.isCPPCCMemberOrNot = res.data.body.personnel.isCPPCCMemberOrNot\n          // that.byfind.isNPCDEputiesOrNot = res.data.body.personnel.isNPCDEputiesOrNot\n          // that.byfind.isPartyRepresentativeOrNot = res.data.body.personnel.isPartyRepresentativeOrNot\n          // // ==============================================================\n          // res.data.body.recordList.map(function(list){\n          //   that.disposition.push(list)\n          // })\n        } else {\n          _this2.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 查询单位\n    initunits: function initunits() {\n      var _this3 = this;\n\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/office/list',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          var lists = [];\n          that.unitslist = res.data.body.officeList.map(function (list, index) {\n            return {\n              id: list.id,\n              name: list.name,\n              children: []\n            };\n          });\n        } else {\n          _this3.$message.error(res.data.msg);\n        }\n      });\n    },\n    //级联事件\n    unitChanges: function unitChanges(data) {\n      var _this4 = this;\n\n      // console.log(data)\n      // console.log(data[data.length-1])\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n        parentId: data[data.length - 1]\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/office/getChildren',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          if (data.length == 1) {\n            that.unitslist.map(function (list, index) {\n              if (list.id == data[0]) {\n                if (!list.children.length) {\n                  list.children = res.data.body.officeList.map(function (list, index) {\n                    return {\n                      id: list.id,\n                      name: list.name,\n                      children: list.hasChildren == false ? \"\" : []\n                    };\n                  });\n                }\n              }\n            });\n          } else if (data.length == 2) {\n            that.unitslist.map(function (list, index) {\n              if (list.id == data[0]) {\n                list.children.map(function (list, index) {\n                  if (list.id == data[1]) {\n                    if (!list.children.length) {\n                      list.children = res.data.body.officeList.map(function (list, index) {\n                        return {\n                          id: list.id,\n                          name: list.name,\n                          children: list.hasChildren == false ? \"\" : []\n                        };\n                      });\n                    }\n                  }\n                });\n              }\n            });\n          }\n        } else {\n          _this4.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 办理结果\n    transactionresultList: function transactionresultList() {\n      var _this5 = this;\n\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/transactionresult/list',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          // console.log(res.data)\n          var lists = [];\n          that.transactionlist = res.data.body.transactionResultList.map(function (list, index) {\n            return {\n              id: list.id,\n              name: list.name,\n              children: list.hasChildren == 0 ? \"\" : []\n            };\n          });\n        } else {\n          _this5.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 办理结果级联事件\n    transactionChanges: function transactionChanges(data) {\n      var _this6 = this;\n\n      // console.log(data)\n      // console.log(data[data.length-1])\n      var that = this;\n      var objs = {\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n        parentId: data[data.length - 1]\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/transactionresult/getChildren',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          if (data.length == 1) {\n            that.transactionlist.map(function (list, index) {\n              if (list.id == data[0]) {\n                if (!list.children.length) {\n                  list.children = res.data.body.transactionResultList.map(function (list, index) {\n                    // console.log(\"hasChildren:\"+list.hasChildren)\n                    return {\n                      id: list.id,\n                      name: list.name,\n                      children: list.hasChildren == 0 ? \"\" : []\n                    };\n                  });\n                }\n              }\n            });\n          } // else if(data.length == 2){\n          //   that.transactionlist.map(function(list,index){\n          //     if(list.id == data[0]){\n          //       list.children.map(function(list,index){\n          //         if(list.id == data[1]){\n          //           if(!list.children.length){\n          //             list.children = res.data.body.officeList.map(function(list,index){\n          //               return {\n          //                 id: list.id,\n          //                 name: list.name,\n          //                 children:list.hasChildren==false?\"\":[]\n          //               }\n          //             })\n          //           }\n          //         }\n          //       })\n          //     }\n          //   })\n          // }\n\n        } else {\n          _this6.$message.error(res.data.msg);\n        }\n      });\n    },\n    //保存\n    savebtns: function savebtns() {\n      this.personnelpops = true;\n    },\n    //保存弹窗确定按钮\n    submitchangeunit: function submitchangeunit(formName) {\n      var _this7 = this;\n\n      \"\"; // console.log(this.arrs)\n\n      var that = this;\n      this.personnelpops = false;\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var officePersonnel = _this7.arrs;\n\n          for (var i = 0; i < that.arrs.length; i++) {} // let sixArr = that.arrs[i]\n          // that.arrs[i].violationOfPartyDiscipline = that.arrs[i].violationOfPartyDiscipline.join(',')\n          // that.arrs[i].transferredResult = that.arrs[i].transferredResult != \"\" ? that.arrs[i].transferredResult.join(',') : \"\"\n          // that.arrs[i].transferredResult = typeof(that.arrs[i].transferredResult) == 'string' ? that.arrs[i].transferredResult : that.that.arrs[i].transferredResultName[that.arrs[i].transferredResultName.length-1]\n          // \n          // console.log(that.arrs)\n\n\n          var forminfo = {\n            type: _this7.$route.query.type ? _this7.$route.query.type : _this7.systemtype,\n            outOfficeName: that.system.outOfficeName,\n            id: that.itemid,\n            //id\n            // \"personnel.id\": that.byfind.personnelid,//被反应人id\n            reflectName: that.find.reflectName,\n            //反映人姓名\n            // \"reflectunit.id\": that.find.reflectunitname?that.find.reflectunitname[that.find.reflectunitname.length-1]:'',//反映人单位id\n            \"reflectunit.id\": typeof that.find.reflectunitname == 'string' ? that.find.reflectunitid : that.find.reflectunitname[that.find.reflectunitname.length - 1],\n            //反映人单位id\n            reflectPresenToCcupation: that.find.reflectPresenToCcupation,\n            //反映人职务\n            reflectPhone: that.find.reflectPhone,\n            //反映人联系方式\n            clueStoTheSource: that.msgform.clueStoTheSource,\n            //线索来源\n            letterNumber: that.msgform.letterNumber,\n            //来件编号\n            groupNumber: that.msgform.groupNumber,\n            //组内线索编号\n            clueNumber: that.msgform.clueNumber,\n            //线索件数\n            content: that.msgform.content,\n            //反映的主要问题\n            isDuplicateOrNot: that.msgform.isDuplicateOrNot,\n            //来件编号\n            // personnelOfficeName: that.personnelOfficeName,\n            \"office.id\": typeof that.personnelOfficeName == 'string' ? that.personnelOfficeId : that.personnelOfficeName[that.personnelOfficeName.length - 1],\n            officePersonnelList: JSON.stringify(_this7.arrs),\n            // \"officePersonnelList[0].proposedDisposition\": \"\",//拟处置方式\n            // // proposedDisposition: that.form.proposedDisposition,//拟处置方式\n            // \"officePersonnelList[0].thereWillBeTime\": \"\",//上会时间\n            // // thereWillBeTime: that.form.thereWillBeTime,//上会时间\n            // \"officePersonnelList[0].disposalOfReason\": \"\",//处置理由\n            // // disposalOfReason: that.form.disposalOfReason,//处置理由\n            // \"officePersonnelList[0].disponsalWay\": \"\",//处置方式\n            // // // disponsalWay: that.disponsalWay,//处置方式\n            // // disponsalWay: that.form.savedispose,//处置方式\n            // \"officePersonnelList[0].violationOfPartyDiscipline\": \"\",//违反党六大纪律\n            // // violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline.length>0?that.dacform.violationOfPartyDiscipline.join(\",\"):\"\",//违反党六大纪律\n            // \"officePersonnelList[0].isDeregulation\": \"\",//是否违反中央八项规定\n            // // isDeregulation: that.dacform.isDeregulation,//是否违反中央八项规定\n            // \"officePersonnelList[0].isFourWindsProblem\": \"\",//是否存在“四风”问题\n            // // isFourWindsProblem: that.dacform.isFourWindsProblem,//是否存在“四风”问题\n            // \"officePersonnelList[0].isEighteenthAfter\": \"\",//是否十八大以后问题\n            // // isEighteenthAfter: that.dacform.isEighteenthAfter,//是否十八大以后问题\n            // \"officePersonnelList[0].isPovertyAlleviationProblem\": \"\",//是否涉及扶贫领域问题\n            // // isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,//是否涉及扶贫领域问题\n            // \"officePersonnelList[0].isAntitriadPutting\": \"\",//是否涉及扫黑除恶\n            // // isAntitriadPutting: that.dacform.isAntitriadPutting,//是否涉及扫黑除恶\n            // \"officePersonnelList[0].istransferred\": \"\",//是否办结\n            // // istransferred: that.Todealwithsituation.istransferred,//是否办结\n            // \"officePersonnelList[0].transferredResult\": \"\",//办理结果\n            // // // transferredResult: that.Todealwithsituation.transferredResult,//办理结果\n            // // // transferredResult: typeof(that.Todealwithsituation.transferredResult) == 'string' ? that.Todealwithsituation.transferredResultid : that.Todealwithsituation.transferredResult[that.Todealwithsituation.transferredResult.length-1],\n            // \"officePersonnelList[0].accountabilityMeans\": \"\",//问责方式\n            // // accountabilityMeans: that.Todealwithsituation.accountabilityMeans,//问责方式\n            // \"officePersonnelList[0].isHoldDemocraticMeeti\": \"\",//是否召开民主生活会\n            // // isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings,//是否召开民主生活会\n            // \"officePersonnelList[0].holdDemocraticMeetingsTime\": \"\",//民主生活会召开时间\n            // // holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime, //民主生活会召开时间\n            // // transferredTime:that.Todealwithsituation.transferredTime, //办结时间\n            // // thereWillBeTime:that.form.thereWillBeTime,//上会时间\n            // \"officePersonnelList[0].isPunishmentExecution\": \"\",//处分是否执行到位\n            // // isPunishmentExecution: that.Todealwithsituation.isPunishmentExecution,//处分是否执行到位\n            // \"officePersonnelList[0].isCommitteeMember\": \"\",//是否市纪委委员\n            // // isCommitteeMember:that.byfind.isCommunistPartyMember, //是否市纪委委员\n            // // remark1: that.remarksform.remark1,\n            // // remark2: that.remarksform.remark2,\n            // // isArchive:that.Todealwithsituation.isArchive,\n            // \"officePersonnelList[0].accountabilityFor\": \"\",//问责事由\n            // // accountabilityFor: that.Todealwithsituation.accountabilityFor,//问责事由\n            // \"officePersonnelList[0].isCorruptionLivelihoodSector\": \"\",//是否民生领域腐败\n            // isCorruptionLivelihoodSector: that.dacform.isCorruptionLivelihoodSector,//是否民生领域腐败\n            // reflectunitname:that.find.reflectunitname?that.find.reflectunitname:\"\",\n            userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n            problemClueDisposalRecords: JSON.stringify(that.disposition),\n            remark1: that.remarksform.remark1,\n            remark2: that.remarksform.remark2\n          };\n\n          _this7.$ajax({\n            method: \"POST\",\n            url: that.globals.requesturl + 'web/cluesparameter/save',\n            data: forminfo,\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            transformRequest: [function (data) {\n              return qs.stringify(data);\n            }]\n          }).then(function (res) {\n            if (res.data.errorCode == \"-1\") {\n              // console.log(this.systemtype)\n              _this7.$message.success(res.data.msg);\n\n              _this7.cluesParameter = res.data.body.id;\n\n              _this7.$router.push({\n                path: '/updateprogress',\n                query: {\n                  id: res.data.body.id\n                }\n              });\n            } else {\n              _this7.$message.error(res.data.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    //查找人员列表\n    getPersonnelList: function getPersonnelList(item, index) {\n      var _this8 = this;\n\n      this.getIndex = index;\n      var that = this;\n      var objs = {\n        name: item.personnelName,\n        // idCard: that.byfind.idCard\n        type: this.systemtype\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/getPersonnelList',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          var _that = _this8;\n          _this8.personnelpops1 = true;\n          var personnelList = [];\n          res.data.body.personnelList.map(function (list) {\n            personnelList.push({\n              id: list.id,\n              name: list.name,\n              presentOccupation: list.presentOccupation,\n              officename: list.office.name\n            }); // console.log(personnelList)\n\n            _that.tableData = personnelList;\n          });\n        } else {\n          _this8.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 查询里的确定按钮 查找人员详细信息\n    getPersonnel: function getPersonnel() {\n      var _this9 = this;\n\n      // console.log(this.templateRadio)\n      var that = this;\n      var objs = {\n        id: this.templateRadio\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/getPersonnel',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          // console.log(res.data.body)\n          // console.log(this.arrs)\n          // console.log(this.getIndex)\n          _this9.arrs[_this9.getIndex].personnelid = res.data.body.personnel.id;\n          _this9.arrs[_this9.getIndex].personnelName = res.data.body.personnel.name;\n          _this9.arrs[_this9.getIndex].idCard = res.data.body.personnel.idCard;\n          _this9.arrs[_this9.getIndex].sex = res.data.body.personnel.sex;\n          _this9.arrs[_this9.getIndex].birthday = res.data.body.personnel.birthday;\n          _this9.arrs[_this9.getIndex].maritalStatus = res.data.body.personnel.maritalStatus;\n          _this9.arrs[_this9.getIndex].nativePlace = res.data.body.personnel.nativePlace;\n          _this9.arrs[_this9.getIndex].educationBackground = res.data.body.personnel.educationBackground;\n          _this9.arrs[_this9.getIndex].politicsStatus = res.data.body.personnel.politicsStatus; // this.arrs[this.getIndex].officeName = res.data.body.officeName // 工作单位\n\n          _this9.arrs[_this9.getIndex].officeName = res.data.body.personnel.office.name;\n          _this9.arrs[_this9.getIndex].phone = res.data.body.personnel.phone;\n          _this9.arrs[_this9.getIndex].nation = res.data.body.personnel.nation;\n          _this9.arrs[_this9.getIndex].workingState = res.data.body.personnel.workingState;\n          _this9.arrs[_this9.getIndex].presentOccupation = res.data.body.personnel.presentOccupation;\n          _this9.arrs[_this9.getIndex].jobLevel = res.data.body.personnel.jobLevel;\n          _this9.arrs[_this9.getIndex].personalResume = res.data.body.personnel.personalResume;\n          _this9.arrs[_this9.getIndex].isCityCommissionPartyMember = res.data.body.personnel.isCityCommissionPartyMember;\n          _this9.arrs[_this9.getIndex].isCPPCCMemberOrNot = res.data.body.personnel.isCPPCCMemberOrNot;\n          _this9.arrs[_this9.getIndex].isCommunistPartyMember = res.data.body.personnel.isCommunistPartyMember;\n          _this9.arrs[_this9.getIndex].isNPCDEputiesOrNot = res.data.body.personnel.isNPCDEputiesOrNot;\n          _this9.arrs[_this9.getIndex].isPartyRepresentativeOrNot = res.data.body.personnel.isPartyRepresentativeOrNot;\n          that.workingStateList.map(function (list) {\n            // console.log(that.arrs)\n            if (list.value == res.data.body.personnel.workingState) {\n              that.arrs[that.getIndex].workingState = list.label;\n            }\n          });\n          _this9.personnelpops1 = false;\n        } else {\n          _this9.$message.error(res.data.msg);\n        }\n      });\n    },\n    // 查询弹窗单选按钮事件\n    singleElection: function singleElection(row) {\n      this.templateSelection = this.tableData.indexOf(row);\n      this.templateRadio = row.id; // console.log(this.templateSelection)\n      // console.log(this.templateRadio)\n    },\n    // 页面跳转 查询弹窗新增\n    goLink: function goLink(e) {\n      this.$router.push({\n        path: e\n      });\n    },\n    //跳转更新进度页面\n    updateProgress: function updateProgress(formName) {\n      var _this10 = this;\n\n      if (!this.$route.query.ifupdata) {\n        var that = this;\n        this.personnelpops = false;\n        this.$refs[formName].validate(function (valid) {\n          if (valid) {\n            // for(let i=0;i<that.arrs.length;i++){\n            // let sixArr = that.arrs[i]\n            // that.arrs[i].violationOfPartyDiscipline = that.arrs[i].violationOfPartyDiscipline.join(',')\n            // that.arrs[i].transferredResult = that.arrs[i].transferredResult != \"\" ? that.arrs[i].transferredResult.join(',') : \"\"\n            // }\n            var forminfo = {\n              type: _this10.$route.query.type ? _this10.$route.query.type : _this10.systemtype,\n              outOfficeName: that.system.outOfficeName,\n              id: that.itemid,\n              //id\n              reflectName: that.find.reflectName,\n              //反映人姓名\n              \"reflectunit.id\": typeof that.find.reflectunitname == 'string' ? that.find.reflectunitid : that.find.reflectunitname[that.find.reflectunitname.length - 1],\n              //反映人单位id\n              reflectPresenToCcupation: that.find.reflectPresenToCcupation,\n              //反映人职务\n              reflectPhone: that.find.reflectPhone,\n              //反映人联系方式\n              clueStoTheSource: that.msgform.clueStoTheSource,\n              //线索来源\n              letterNumber: that.msgform.letterNumber,\n              //来件编号\n              groupNumber: that.msgform.groupNumber,\n              //组内线索编号\n              clueNumber: that.msgform.clueNumber,\n              //线索件数\n              content: that.msgform.content,\n              //反映的主要问题\n              isDuplicateOrNot: that.msgform.isDuplicateOrNot,\n              //来件编号\n              \"office.id\": typeof that.personnelOfficeName == 'string' ? that.personnelOfficeId : that.personnelOfficeName[that.personnelOfficeName.length - 1],\n              officePersonnelList: JSON.stringify(_this10.arrs),\n              userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n              problemClueDisposalRecords: JSON.stringify(that.disposition),\n              remark1: that.remarksform.remark1,\n              remark2: that.remarksform.remark2\n            };\n\n            _this10.$ajax({\n              method: \"POST\",\n              url: that.globals.requesturl + 'web/cluesparameter/save',\n              data: forminfo,\n              headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n              },\n              transformRequest: [function (data) {\n                return qs.stringify(data);\n              }]\n            }).then(function (res) {\n              if (res.data.errorCode == \"-1\") {\n                _this10.$message.success(res.data.msg);\n\n                var ifupdata = _this10.$route.query.ifupdata;\n\n                _this10.$router.push({\n                  path: '/updateprogress',\n                  query: {\n                    id: _this10.itemid,\n                    ifupdata: ifupdata,\n                    cluesParameterChildrenId: _this10.delId\n                  }\n                });\n              } else {\n                _this10.$message.error(res.data.msg);\n              }\n            });\n          } else {\n            return false;\n          }\n        });\n      } else {\n        var ifupdata = this.$route.query.ifupdata;\n        this.$router.push({\n          path: '/updateprogress',\n          query: {\n            id: this.itemid,\n            ifupdata: ifupdata,\n            cluesParameterChildrenId: this.delId\n          }\n        });\n      }\n    },\n    // 系统内部单位添加人员\n    addPeopleBtn: function addPeopleBtn() {\n      this.ele += 1;\n      console.log(this.ele);\n\n      if (this.ele >= 1) {\n        var isadd = {\n          islength: 0,\n          ismore: true,\n          //展开-收起\n          radiobtn: false,\n          //姓名前面的单选按钮\n          id: \"\",\n          disponsalWay: \"\",\n          //处置方式（为判断走到哪一步，不需要显示）\n          //被反应人信息\n          personnelid: \"\",\n          //被反映人id\n          personnelName: \"\",\n          //姓名\n          idCard: \"\",\n          //身份证\n          sex: \"\",\n          //性别\n          birthday: \"\",\n          //出生年月\n          maritalStatus: \"\",\n          //婚姻状况\n          nativePlace: \"\",\n          //籍贯\n          educationBackground: \"\",\n          //文化程度\n          politicsStatus: \"\",\n          //政治面貌\n          officeName: \"\",\n          //工作单位\n          phone: \"\",\n          //联系方式\n          nation: \"\",\n          //民族\n          workingState: \"\",\n          //在职情况\n          presentOccupation: \"\",\n          //职务\n          jobLevel: \"\",\n          //职级\n          isCommitteeMember: \"\",\n          //市委\n          // isCommunistPartyMember:\"\",//市委\n          isCityCommissionPartyMembericipal: \"\",\n          //市纪委\n          isCPPCCMemberOrNot: \"\",\n          //是否政协委员\n          isNPCDEputiesOrNot: \"\",\n          //是否人大代表\n          isPartyRepresentativeOrNot: \"\",\n          //是否党代表\n          personalResume: \"\",\n          //工作简历\n          //处置理由\n          disposalOfReason: \"\",\n          //处置理由\n          proposedDisposition: \"\",\n          //拟处置方式\n          thereWillBeTime: \"\",\n          //上会时间\n          savedispose: \"\",\n          //保存时候传的处置方式\n          //违纪违法内容\n          violationOfPartyDiscipline: \"\",\n          //六大纪律\n          isDeregulation: \"\",\n          //八项规定\n          isFourWindsProblem: \"\",\n          //四风问题\n          // corruption:\"\",//腐败\n          isEighteenthAfter: \"\",\n          //十八大问题\n          isPovertyAlleviationProblem: \"\",\n          //扶贫\n          isAntitriadPutting: \"\",\n          //涉黑\n          isCorruptionLivelihoodSector: \"\",\n          //是否民生领域腐败\n          // 办理情况\n          istransferred: \"\",\n          //是否办结\n          // transferredResultname:\"\",//办理结果\n          // transferredResultid:\"\",//办理结果\n          transferredResult: \"\",\n          transferredTime: \"\",\n          //办结时间\n          accountabilityMeans: \"\",\n          //问责方式\n          isHoldDemocraticMeetings: \"\",\n          //是否召开民主生活会\n          holdDemocraticMeetingsTime: \"\",\n          //召开民主生活会时间\n          // execute:\"\",//处分是否执行到位\n          isArchive: \"\",\n          //是否归档\n          isPunishmentExecution: \"\",\n          accountabilityFor: \"\",\n          //问责事由\n          //备注\n          // remark1:\"\",\n          // remark2:\"\",\n          // 处置\n          disposition: []\n        };\n      }\n\n      this.arrs.push(isadd);\n    },\n    // 点击展开收起\n    findShowBtn: function findShowBtn(item, index) {\n      console.log(index); // let datarrs = this.arrs\n      // let aIsmore = item.ismore == true ? true:false \n\n      item.ismore = !item.ismore; // this.arrs = datarrs\n      // this.$set(this.arrs, index, {ismore: aIsmore});\n    },\n    // 点击姓名前面的单选按钮\n    checkedRaido: function checkedRaido(index) {\n      console.log(index); // console.log(this.arrs)\n      // let datarrs = this.arrs\n      // console.log(datarrs)\n\n      this.arrs.map(function (list) {\n        list.radiobtn = false;\n      });\n      this.arrs[index].radiobtn = true;\n      var personnelid = this.arrs[index].personnelid;\n      this.delId = this.arrs[index].id; // console.log(personnelid)\n      // console.log(this.delId)\n      // this.arrs = datarrs\n      // console.log(this.arrs)\n      // this.$set(this.arrs, index, {radiobtn: true}); //实时刷新\n    },\n    // 垃圾桶按钮\n    delBtn: function delBtn(index) {\n      var _this11 = this;\n\n      // console.log(index)\n      console.log(this.delId);\n      var that = this;\n      var objs = {\n        id: that.delId\n      };\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/cluesparameter/deletePersonnel',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.success && res.data.errorCode == '-1') {\n          console.log(res.data);\n\n          _this11.$message.success(res.data.msg);\n        } else {\n          _this11.$message.error(res.data.msg);\n        }\n      }); // this.arrs.splice(index,1)\n    },\n    //返回上一页\n    goback: function goback() {\n      this.$router.go(-1);\n    }\n  },\n  watch: {}\n};",null]}