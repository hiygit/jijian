{"remainingRequest":"D:\\我的项目\\纪检\\byqc\\node_modules\\babel-loader\\lib\\index.js!D:\\我的项目\\纪检\\byqc\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\我的项目\\纪检\\byqc\\src\\components\\Home\\Homenav\\script.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的项目\\纪检\\byqc\\src\\components\\Home\\Homenav\\script.js","mtime":1577184843109},{"path":"D:\\我的项目\\纪检\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检\\byqc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\我的项目\\纪检\\byqc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import qs from 'qs';\nimport transfer from '@/components/Home/transfer.js';\nexport default {\n  data: function data() {\n    return {\n      commission: \"\",\n      //代办事项\n      // 单位参数\n      companydata: [],\n      // 标记是否全选\n      checkedall: true,\n      allunits: \"\" //单位数量\n\n    };\n  },\n  mounted: function mounted() {\n    var objs = {\n      userId: JSON.parse(localStorage.getItem('userinfo')).isd,\n      officeId: \"\"\n    };\n    this.init(objs);\n    var allnum = {\n      officeId: \"\"\n    };\n    this.allunitsfun(allnum);\n  },\n  methods: {\n    // 选择单位\n    selunit: function selunit(item) {\n      var that = this;\n      var idsarr = item.id;\n      this.companydata.map(function (list) {\n        list.checkedstate = false;\n      });\n      item.checkedstate = true; // transfer.$emit('unitids',idsarr)\n\n      var allnum = {\n        officeId: idsarr\n      };\n      this.allunitsfun(allnum);\n    },\n    // 全选单位\n    allcompanychecked: function allcompanychecked() {\n      if (this.checkedall) {\n        this.companydata.map(function (item) {\n          item.checkedstate = false;\n        });\n      } else {\n        this.companydata.map(function (item) {\n          item.checkedstate = true;\n        });\n      }\n\n      var idsarr = [];\n      this.companydata.map(function (list) {\n        if (list.checkedstate) {\n          idsarr.push(list.id);\n        }\n      }); // transfer.$emit('allunitids',idsarr.join())\n\n      var allnum = {\n        officeId: \"\"\n      };\n      this.allunitsfun(allnum);\n    },\n    //首页跳转链接\n    handleGolink: function handleGolink(e) {\n      this.$router.push({\n        path: e\n      });\n    },\n    //页面初始化\n    init: function init(objs) {\n      var that = this;\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/index',\n        data: objs,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          var objlist = res.data.body;\n          that.commission = objlist.totalBacklog;\n          var officeList = objlist.officeList;\n          officeList.map(function (list) {\n            list.checkedstate = true;\n          });\n          that.companydata = officeList;\n        }\n      });\n    },\n    //获取单位数量\n    allunitsfun: function allunitsfun(obj) {\n      var that = this;\n      this.$ajax({\n        method: \"POST\",\n        url: that.globals.requesturl + 'web/index/getChildOfficeNumber',\n        data: obj,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        transformRequest: [function (data) {\n          return qs.stringify(data);\n        }]\n      }).then(function (res) {\n        if (res.data.errorCode == \"-1\") {\n          that.allunits = res.data.body.number;\n        }\n      });\n    }\n  },\n  watch: {\n    companydata: {\n      handler: function handler(newVal, oldVal) {\n        var _this = this;\n\n        this.checkedall = true;\n        this.companydata.map(function (item) {\n          if (!item.checkedstate) {\n            _this.checkedall = false;\n          }\n        });\n      },\n      deep: true\n    }\n  }\n};",{"version":3,"sources":["D:/我的项目/纪检/byqc/src/components/Home/Homenav/script.js"],"names":["qs","transfer","data","commission","companydata","checkedall","allunits","mounted","objs","userId","JSON","parse","localStorage","getItem","isd","officeId","init","allnum","allunitsfun","methods","selunit","item","that","idsarr","id","map","list","checkedstate","allcompanychecked","push","handleGolink","e","$router","path","$ajax","method","url","globals","requesturl","headers","transformRequest","stringify","then","res","errorCode","objlist","body","totalBacklog","officeList","obj","number","watch","handler","newVal","oldVal","deep"],"mappings":"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","sourcesContent":["import qs from 'qs'\r\nimport transfer from '@/components/Home/transfer.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      commission: \"\", //代办事项\r\n      // 单位参数\r\n      companydata: [],\r\n      // 标记是否全选\r\n      checkedall: true,\r\n      allunits:\"\",//单位数量\r\n    }\r\n  },\r\n  mounted() {\r\n    let objs = {\r\n      userId: JSON.parse(localStorage.getItem('userinfo')).isd,\r\n      officeId:\"\"\r\n    }\r\n    this.init(objs)\r\n    let allnum = {officeId:\"\"}\r\n    this.allunitsfun(allnum)\r\n  },\r\n  methods: {\r\n    // 选择单位\r\n    selunit(item){\r\n      let that = this; \r\n      let idsarr = item.id;\r\n      this.companydata.map(function(list){\r\n        list.checkedstate = false\r\n      })\r\n      item.checkedstate = true\r\n      // transfer.$emit('unitids',idsarr)\r\n      let allnum = {officeId:idsarr}\r\n      this.allunitsfun(allnum)\r\n    },\r\n    // 全选单位\r\n    allcompanychecked() {\r\n      if (this.checkedall) {\r\n        this.companydata.map(item => {\r\n          item.checkedstate = false;\r\n        })\r\n      } else {\r\n        this.companydata.map(item => {\r\n          item.checkedstate = true;\r\n        })\r\n      }\r\n      let idsarr = [];\r\n      this.companydata.map(function(list){\r\n        if(list.checkedstate){\r\n          idsarr.push(list.id)\r\n        }\r\n      })\r\n      // transfer.$emit('allunitids',idsarr.join())\r\n      let allnum = {officeId:\"\"}\r\n      this.allunitsfun(allnum)\r\n    },\r\n    //首页跳转链接\r\n    handleGolink(e) {\r\n      this.$router.push({\r\n        path: e\r\n      })\r\n    },\r\n    //页面初始化\r\n    init(objs) {\r\n      let that = this; \r\n      this.$ajax({\r\n          method: \"POST\",\r\n          url: that.globals.requesturl + 'web/index',\r\n          data: objs,\r\n          headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n          transformRequest: [function (data) { \r\n            return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n          if(res.data.errorCode == \"-1\"){\r\n            let objlist = res.data.body; \r\n            that.commission = objlist.totalBacklog\r\n            let officeList = objlist.officeList;\r\n            officeList.map(function(list){\r\n                list.checkedstate = true\r\n            })\r\n            that.companydata = officeList\r\n          }\r\n      })\r\n    },\r\n    //获取单位数量\r\n    allunitsfun(obj){\r\n      let that = this; \r\n      this.$ajax({\r\n        method: \"POST\",\r\n        url: that.globals.requesturl + 'web/index/getChildOfficeNumber',\r\n        data: obj,\r\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        transformRequest: [function (data) { \r\n          return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n          if(res.data.errorCode == \"-1\"){\r\n            that.allunits = res.data.body.number\r\n          }\r\n      })\r\n    },\r\n  },\r\n  watch: {\r\n    companydata: {\r\n      handler(newVal, oldVal) {\r\n        this.checkedall = true;\r\n        this.companydata.map(item => {\r\n          if (!item.checkedstate) {\r\n            this.checkedall = false;\r\n          }\r\n        })\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n"]}]}