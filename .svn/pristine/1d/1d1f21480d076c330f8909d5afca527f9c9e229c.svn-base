{"remainingRequest":"F:\\纪检项目\\monitor\\byqc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\纪检项目\\monitor\\byqc\\src\\views\\StandBookEnter\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\纪检项目\\monitor\\byqc\\src\\views\\StandBookEnter\\index.vue","mtime":1576458575940},{"path":"F:\\纪检项目\\monitor\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\纪检项目\\monitor\\byqc\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\纪检项目\\monitor\\byqc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\纪检项目\\monitor\\byqc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\纪检项目\\monitor\\byqc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Breadcrumb from \"../../components/Breadcrumb\";\r\nimport qs from 'qs'\r\nexport default {\r\n  name: \"StandBookEnter\",\r\n  // props: {},\r\n  data() {\r\n    return {\r\n      step:0,//进度步骤\r\n      personnelpops:false,//弹框显示切换\r\n      disponsalWay: \"\",//处置方式（为判断走到哪一步，不需要显示）\r\n      itemid: \"\",\r\n\r\n      isshow: true,//线索一下信息\r\n      show: true,//保存\r\n      updata: true,//更新进度\r\n      unitslist: [],//级联选择\r\n      sourcelist: [],//线索来源\r\n      proposedDispositionList: [],//拟处置方式\r\n      violationOfPartyDisciplineList: [],//党六大纪律\r\n      transferredResultList: [],//办理结果\r\n      accountabilityMeansList: [],//问责方式\r\n      isnoList: [],//是否\r\n\r\n      //备注\r\n      remarksform:{\r\n        remark1:\"\",\r\n        remark2:\"\",\r\n      },\r\n      //办理情况\r\n      Todealwithsituation:{\r\n        istransferred:\"\",//是否办结\r\n        transferredResult:\"\",//办理结果\r\n        transferredTime:\"2019-12-17 00:00:00\",//办结时间\r\n        accountabilityMeans:\"\",//问责方式\r\n        isHoldDemocraticMeetings:\"\",//是否召开民主生活会\r\n        holdDemocraticMeetingsTime:\"2019-12-17 00:00:00\",//召开民主生活会时间\r\n        execute:\"\",//处分是否执行到位\r\n        isArchive:\"\",//是否归档\r\n        accountabilityFor: \"\",//问责事由\r\n      },\r\n      //违纪违法内容\r\n      dacform:{\r\n        violationOfPartyDiscipline:\"\",//六大纪律\r\n        isDeregulation:\"\",//八项规定\r\n        isFourWindsProblem:\"\",//四风问题\r\n        corruption:\"\",//腐败\r\n        isEighteenthAfter:\"\",//十八大问题\r\n        isPovertyAlleviationProblem:\"\",//扶贫\r\n        isAntitriadPutting:\"\",//涉黑\r\n        isCorruptionLivelihoodSector: \"\",//是否民生领域腐败\r\n      },\r\n      // 线索信息表单\r\n      msgform:{\r\n        clueStoTheSource:\"\",//线索来源\r\n        letterNumber:\"\",//来件编号\r\n        groupNumber:\"\",//组内线索编号\r\n        isDuplicateOrNot:\"\",//是否重复件\r\n        clueNumber:\"\",//线索件数\r\n        content:\"\",//反映的主要问题\r\n      },\r\n      //被反应人信息\r\n      byfind:{\r\n        personnelid:\"\",//被反映人id\r\n        personnelName:\"\",//姓名\r\n        IDcard:\"\",//身份证\r\n        sex:\"\",//性别\r\n        dates:\"\",//出生年月\r\n        marriage:\"\",//婚姻状况\r\n        native:\"\",//籍贯\r\n        degree:\"\",//文化程度\r\n        status:\"\",//政治面貌\r\n        unit:\"\",//工作单位\r\n        contact:\"\",//联系方式\r\n        nationality:\"\",//民族\r\n        work:\"\",//在职情况\r\n        duty:\"\",//职务\r\n        rank:\"\",//职级\r\n        mpc:\"\",//市委\r\n        Municipal:\"\",//市纪委\r\n        vitae:\"\",//工作简历\r\n      },\r\n      //反应人信息\r\n      find:{\r\n        reflectName:\"\",//姓名\r\n        reflectPhone:\"\",//联系方式\r\n        reflectunitname:\"\",//工作单位\r\n        reflectPresenToCcupation:\"\",//职务\r\n      },\r\n      // 处置\r\n      disposition:[\r\n        // {disposition:\"\",ratifytime:\"\",starttime:\"\"},\r\n        // {disposition:\"\",ratifytime:\"\",starttime:\"\"},\r\n        // {disposition:\"\",ratifytime:\"\",starttime:\"\"},\r\n        // {disposition:\"\",ratifytime:\"\",starttime:\"\"},\r\n        // {disposition:\"\",ratifytime:\"\",starttime:\"\"},\r\n      ],\r\n      //处置理由\r\n      form: {\r\n        disposalOfReason: \"\",//处置理由\r\n        proposedDisposition: \"\",//拟处置方式\r\n        thereWillBeTime: \"2019-12-17 00:00:00\",//上会时间\r\n      },\r\n      rules:{\r\n        clueStoTheSource:[{required: true, message: '请选择线索来源', trigger: 'blur'}],\r\n        letterNumber:[{required: true, message: '请填写来件编号', trigger: 'blur'}],\r\n        clueNumber:[{required: true, message: '请填写线索件数', trigger: 'blur'}],\r\n        isDuplicateOrNot:[{required: true, message: '请选择是否重复件', trigger: 'blur'}],\r\n      },\r\n\r\n    };\r\n  },\r\n  computed: {},\r\n  components: {\r\n    Breadcrumb\r\n  },\r\n  created() {\r\n    document.title = \"线索台账录入\";\r\n    //线索来源\r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"clue_sto_the_source\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res => {\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.sourcelist = res.data.body.dictValueList;\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    });\r\n    //处置方式\r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"disponsal_way\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res=>{\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.proposedDispositionList = res.data.body.dictValueList\r\n      }else{\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    })\r\n    //党六大纪律\r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"violation_of_party_discipline\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res=>{\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.violationOfPartyDisciplineList = res.data.body.dictValueList\r\n      }else{\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    })\r\n    //办理结果 \r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"transferred_result\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res=>{\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.transferredResultList = res.data.body.dictValueList\r\n      }else{\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    })\r\n    //问责方式\r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"accountability_means\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res=>{\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.accountabilityMeansList = res.data.body.dictValueList\r\n      }else{\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    })\r\n    //是否\r\n    this.$ajax({\r\n      method: \"POST\",\r\n      url: this.globals.requesturl + \"web/dict\",\r\n      data: { type: \"yes_no\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      transformRequest: [\r\n        function(data) {\r\n          return qs.stringify(data);\r\n        }\r\n      ]\r\n    }).then(res=>{\r\n      if (res.data.success && res.data.errorCode == \"-1\") {\r\n        this.isnoList = res.data.body.dictValueList\r\n      }else{\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    })\r\n\r\n\r\n  },\r\n  mounted() {\r\n    let id = this.$route.query.id\r\n    if(id){\r\n      this.itemid = id\r\n      let objs = {\r\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\r\n        id: id\r\n      }\r\n      this.show = false\r\n      this.init(objs)\r\n    }else{\r\n      this.isshow = false\r\n      this.updata = false\r\n    }\r\n    this.initunits()\r\n  },\r\n  methods: {\r\n    //初始化\r\n    init(objs){\r\n      let that = this\r\n      this.$ajax({\r\n        method:\"POST\",\r\n        url: that.globals.requesturl + 'web/cluesparameter/form',\r\n        data: objs,\r\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        transformRequest: [function (data) { \r\n          return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n        if(res.data.success && res.data.errorCode == '-1'){\r\n          console.log(res.data)\r\n          //处置方式判断\r\n          if(res.data.body.disponsalWay == 0){\r\n            that.disponsalWay = 0\r\n            that.isShow = false\r\n          }else if(res.data.body.disponsalWay == 0){\r\n            that.disponsalWay = 1\r\n            // that.isShow = false\r\n          }else if(res.data.body.disponsalWay == 2 || res.data.body.disponsalWay == 3 || res.data.body.disponsalWay == 4 || res.data.body.disponsalWay == 5 || res.data.body.disponsalWay == 6 || res.data.body.disponsalWay == 7 || res.data.body.disponsalWay == 8 || res.data.body.disponsalWay == 9){\r\n            that.disponsalWay = 2\r\n          }else if(res.data.body.disponsalWay == 10){\r\n            that.disponsalWay = 3\r\n          }else if(res.data.body.disponsalWay == 11){\r\n            that.disponsalWay == 4\r\n            that.isShow = false\r\n          }\r\n          that.step = that.disponsalWay\r\n\r\n\r\n          //页面渲染\r\n          that.msgform.letterNumber = res.data.body.letterNumber\r\n          that.msgform.groupNumber = res.data.body.groupNumber \r\n          that.msgform.clueNumber = res.data.body.clueNumber\r\n          that.msgform.content = res.data.body.content\r\n          that.byfind.personnelid = res.data.body.personnel.id\r\n          that.byfind.personnelName = res.data.body.personnel.name\r\n          that.find.reflectPresenToCcupation = res.data.body.reflectPresenToCcupation\r\n          that.find.reflectName = res.data.body.reflectName\r\n          that.find.reflectPhone = res.data.body.reflectPhone\r\n          that.form.disposalOfReason = res.data.body.disposalOfReason\r\n          that.form.thereWillBeTime = res.data.body.thereWillBeTime\r\n          that.Todealwithsituation.transferredTime = res.data.body.transferredTime\r\n          that.Todealwithsituation.holdDemocraticMeetingsTime = res.data.body.holdDemocraticMeetingsTime \r\n          that.Todealwithsituation.accountabilityFor = res.data.body.accountabilityFor\r\n          that.remarksform.remark1 = res.data.body.remark1\r\n          that.remarksform.remark2 = res.data.body.remark2\r\n          that.sourcelist.map(function(list){\r\n            if(list.value == res.data.body.clueStoTheSource){\r\n              that.msgform.clueStoTheSource = list.label\r\n            }\r\n          })\r\n          that.proposedDispositionList.map(function(list){\r\n            if(list.value == res.data.body.proposedDisposition){\r\n              that.form.proposedDisposition = list.label\r\n              console.log(list)\r\n            }\r\n          }) \r\n          that.violationOfPartyDisciplineList.map(function(list){\r\n            if(list.value == res.data.body.violationOfPartyDiscipline){ \r\n              that.dacform.violationOfPartyDiscipline = list.label\r\n            }\r\n          })\r\n          that.transferredResultList.map(function(list){\r\n            if(list.value == res.data.body.transferredResult){ \r\n              that.Todealwithsituation.transferredResult = list.label\r\n            }\r\n          })\r\n          that.accountabilityMeansList.map(function(list){\r\n            if(list.value == res.data.body.accountabilityMeans){ \r\n              that.Todealwithsituation.accountabilityMeans = list.label\r\n            }\r\n          })\r\n          that.isnoList.map(function(list){\r\n            if(list.value == res.data.body.isDuplicateOrNot){ \r\n              that.msgform.isDuplicateOrNot = list.label\r\n            }\r\n            if(list.value == res.data.body.isDeregulation){\r\n              that.dacform.isDeregulation = list.label\r\n            }\r\n            if(list.value == res.data.body.isFourWindsProblem){\r\n              that.dacform.isFourWindsProblem = list.label\r\n            }  \r\n            if(list.value == res.data.body.isEighteenthAfter){\r\n              that.dacform.isEighteenthAfter = list.label\r\n            }   \r\n            if(list.value == res.data.body.isPovertyAlleviationProblem){\r\n              that.dacform.isPovertyAlleviationProblem = list.label\r\n            }\r\n            if(list.value == res.data.body.isAntitriadPutting){\r\n              that.dacform.isAntitriadPutting = list.label\r\n            } \r\n            if(list.value == res.data.body.isCorruptionLivelihoodSector){\r\n              that.dacform.isCorruptionLivelihoodSector = list.label\r\n            }\r\n            if(list.value == res.data.body.istransferred){\r\n              that.Todealwithsituation.istransferred = list.label\r\n            }  \r\n            if(list.value == res.data.body.isHoldDemocraticMeetings){\r\n              that.Todealwithsituation.isHoldDemocraticMeetings = list.label\r\n            }  \r\n            if(list.value == res.data.body.isPunishmentExecution){\r\n              that.Todealwithsituation.isPunishmentExecution = list.label\r\n            } \r\n            if(list.value == res.data.body.isArchive){\r\n              that.Todealwithsituation.isArchive = list.label\r\n            }   \r\n          })\r\n          res.data.body.recordList.map(function(list){\r\n            that.disposition.push(list)\r\n          })\r\n\r\n        }else{\r\n          this.$message.error(res.data.msg);\r\n        }\r\n      })\r\n    },\r\n    // 查询单位\r\n    initunits(){\r\n      let that = this; \r\n      let objs = {\r\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\r\n      } \r\n      this.$ajax({\r\n        method: \"POST\",\r\n        url: that.globals.requesturl + 'web/office/list',\r\n        data: objs,\r\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        transformRequest: [function (data) { \r\n          return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n        if(res.data.errorCode == \"-1\"){\r\n          let lists = [];\r\n          res.data.body.officeList.map(function(list,index){\r\n            lists.push({\r\n              label:list.name,\r\n              value:list.id,\r\n              dex:index,\r\n              children: list.hasChildren==false?\"\":[{}],\r\n              ishasChildren:list.hasChildren==false?false:true\r\n            })\r\n          })\r\n          that.unitslist = lists\r\n          that.datas = lists\r\n        }else{\r\n          this.$message.error(res.data.msg); \r\n        }\r\n      })\r\n    },\r\n    //级联事件\r\n    unitChanges(data) {\r\n      let that = this;\r\n      let objs = {\r\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd,\r\n        parentId:data[0]\r\n      } \r\n      this.$ajax({\r\n        method: \"POST\",\r\n        url: that.globals.requesturl + 'web/office/getChildren',\r\n        data: objs,\r\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        transformRequest: [function (data) { \r\n          return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n        if(res.data.errorCode == \"-1\"){\r\n          let lists = [];\r\n          res.data.body.officeList.map(function(list,index){\r\n            lists.push({\r\n              label:list.name,\r\n              value:list.id,\r\n              dex:index,\r\n              children: list.hasChildren==false?\"\":[{}],\r\n              ishasChildren:list.hasChildren==false?false:true\r\n            })\r\n          })\r\n          let nums = 0;\r\n          //根据二级中value判断让入哪个一级单位\r\n          that.unitslist.map(function(list,index){\r\n            if(list.value == data){\r\n              nums = index\r\n            }\r\n          })\r\n          that.unitslist[nums].children = lists\r\n        }else{\r\n          this.$message.error(res.data.msg); \r\n        }\r\n      })\r\n    },\r\n    //保存\r\n    savebtns(formName){\r\n      let that = this\r\n      this.$refs[formName].validate((valid) => {\r\n        if(valid){\r\n          let forminfo = {\r\n            id: that.itemid,\r\n            reflectName: that.find.reflectName,\r\n            reflectPresenToCcupation: that.find.reflectPresenToCcupation,\r\n            reflectPhone: that.find.reflectPhone,\r\n            clueStoTheSource: that.msgform.clueStoTheSource,\r\n            letterNumber: that.msgform.letterNumber,\r\n            groupNumber: that.msgform.groupNumber,\r\n            clueNumber: that.msgform.clueNumber,\r\n            content: that.msgform.content,\r\n            proposedDisposition: that.form.proposedDisposition,\r\n            thereWillBeTime: that.form.thereWillBeTime,\r\n            disponsalWay: that.disponsalWay,//处置方式\r\n            violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline,\r\n            isDeregulation: that.dacform.isDeregulation,\r\n            isFourWindsProblem: that.dacform.isFourWindsProblem,\r\n            isDuplicateOrNot: that.msgform.isDuplicateOrNot,\r\n            isEighteenthAfter: that.dacform.isEighteenthAfter,\r\n            isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,\r\n            isAntitriadPutting: that.dacform.isAntitriadPutting,\r\n            istransferred: that.Todealwithsituation.istransferred,\r\n            transferredResult: that.Todealwithsituation.transferredResult,\r\n            accountabilityMeans: that.Todealwithsituation.accountabilityMeans,\r\n            isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings,\r\n            holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime,\r\n            isPunishmentExecution: that.Todealwithsituation.isPunishmentExecution,\r\n            isCommitteeMember:\"\", //是否市纪委委员\r\n            remark1: that.remarksform.remark1,\r\n            remark2: that.remarksform.remark2,\r\n            accountabilityFor: that.Todealwithsituation.accountabilityFor,\r\n            isCorruptionLivelihoodSector: that.dacform.isCorruptionLivelihoodSector,\r\n            \"personnel.id\": that.byfind.personnelid,\r\n            userId: JSON.parse(localStorage.getItem('userinfo')).isd\r\n          }\r\n          this.personnelpops = true\r\n          console.log(forminfo)\r\n          // this.$ajax({\r\n          //   method: \"POST\",\r\n          //   url: that.globals.requesturl + 'web/cluesparameter/save',\r\n          //   data: forminfo,\r\n          //   headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n          //   transformRequest: [function (data) { \r\n          //     return qs.stringify(data)\r\n          //   }]\r\n          // }).then(res=>{\r\n          //   if(res.data.errorCode == \"-1\"){\r\n          //     this.personnelpops = true\r\n          //     this.$message.success(res.data.msg); \r\n          //   }else{\r\n          //     this.$message.error(res.data.msg); \r\n          //   }\r\n          // })\r\n        }else{\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    quxiaobtn(){\r\n      let that = this\r\n      let forminfo = {\r\n        id: that.itemid,\r\n        reflectName: that.find.reflectName,\r\n        reflectPresenToCcupation: that.find.reflectPresenToCcupation,\r\n        reflectPhone: that.find.reflectPhone,\r\n        clueStoTheSource: that.msgform.clueStoTheSource,\r\n        letterNumber: that.msgform.letterNumber,\r\n        groupNumber: that.msgform.groupNumber,\r\n        clueNumber: that.msgform.clueNumber,\r\n        content: that.msgform.content,\r\n        proposedDisposition: that.form.proposedDisposition,\r\n        thereWillBeTime: that.form.thereWillBeTime,\r\n        disponsalWay: that.disponsalWay,//处置方式\r\n        violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline,\r\n        isDeregulation: that.dacform.isDeregulation,\r\n        isFourWindsProblem: that.dacform.isFourWindsProblem,\r\n        isDuplicateOrNot: that.msgform.isDuplicateOrNot,\r\n        isEighteenthAfter: that.dacform.isEighteenthAfter,\r\n        isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,\r\n        isAntitriadPutting: that.dacform.isAntitriadPutting,\r\n        istransferred: that.Todealwithsituation.istransferred,\r\n        transferredResult: that.Todealwithsituation.transferredResult,\r\n        accountabilityMeans: that.Todealwithsituation.accountabilityMeans,\r\n        isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings,\r\n        holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime,\r\n        isPunishmentExecution: that.Todealwithsituation.isPunishmentExecution,\r\n        isCommitteeMember:\"\", //是否市纪委委员\r\n        remark1: that.remarksform.remark1,\r\n        remark2: that.remarksform.remark2,\r\n        accountabilityFor: that.Todealwithsituation.accountabilityFor,\r\n        isCorruptionLivelihoodSector: that.dacform.isCorruptionLivelihoodSector,\r\n        \"personnel.id\": that.byfind.personnelid,\r\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd\r\n      }\r\n      this.$ajax({\r\n        method: \"POST\",\r\n        url: that.globals.requesturl + 'web/cluesparameter/save',\r\n        data: forminfo,\r\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        transformRequest: [function (data) { \r\n          return qs.stringify(data)\r\n        }]\r\n      }).then(res=>{\r\n        if(res.data.errorCode == \"-1\"){\r\n          this.personnelpops = false\r\n          this.$message.success(res.data.msg); \r\n          this.$router.go(-1)\r\n        }else{\r\n          this.$message.error(res.data.msg); \r\n        }\r\n      })\r\n    \r\n    },\r\n    //保存弹窗确定按钮\r\n    submitchangeunit(){\r\n      let that = this\r\n      let forminfo = {\r\n        id: that.itemid,\r\n        reflectName: that.find.reflectName,\r\n        reflectPresenToCcupation: that.find.reflectPresenToCcupation,\r\n        reflectPhone: that.find.reflectPhone,\r\n        clueStoTheSource: that.msgform.clueStoTheSource,\r\n        letterNumber: that.msgform.letterNumber,\r\n        groupNumber: that.msgform.groupNumber,\r\n        clueNumber: that.msgform.clueNumber,\r\n        content: that.msgform.content,\r\n        proposedDisposition: that.form.proposedDisposition,\r\n        thereWillBeTime: that.form.thereWillBeTime,\r\n        disponsalWay: that.disponsalWay,//处置方式\r\n        violationOfPartyDiscipline: that.dacform.violationOfPartyDiscipline,\r\n        isDeregulation: that.dacform.isDeregulation,\r\n        isFourWindsProblem: that.dacform.isFourWindsProblem,\r\n        isDuplicateOrNot: that.msgform.isDuplicateOrNot,\r\n        isEighteenthAfter: that.dacform.isEighteenthAfter,\r\n        isPovertyAlleviationProblem: that.dacform.isPovertyAlleviationProblem,\r\n        isAntitriadPutting: that.dacform.isAntitriadPutting,\r\n        istransferred: that.Todealwithsituation.istransferred,\r\n        transferredResult: that.Todealwithsituation.transferredResult,\r\n        accountabilityMeans: that.Todealwithsituation.accountabilityMeans,\r\n        isHoldDemocraticMeetings: that.Todealwithsituation.isHoldDemocraticMeetings,\r\n        holdDemocraticMeetingsTime: that.Todealwithsituation.holdDemocraticMeetingsTime,\r\n        isPunishmentExecution: that.Todealwithsituation.isPunishmentExecution,\r\n        isCommitteeMember:\"\", //是否市纪委委员\r\n        remark1: that.remarksform.remark1,\r\n        remark2: that.remarksform.remark2,\r\n        accountabilityFor: that.Todealwithsituation.accountabilityFor,\r\n        isCorruptionLivelihoodSector: that.dacform.isCorruptionLivelihoodSector,\r\n        \"personnel.id\": that.byfind.personnelid,\r\n        userId: JSON.parse(localStorage.getItem('userinfo')).isd\r\n      }\r\n      let strstr = JSON.stringify(forminfo)\r\n      this.$router.push({path: '/updateprogress',query: {id: this.itemid,str:strstr}})\r\n    },\r\n\r\n    //跳转更新进度页面\r\n    updateProgress(){\r\n      this.$router.push({path: '/updateprogress',query: {id:this.itemid}})\r\n    }\r\n  },\r\n  watch: {}\r\n};\r\n",null]}